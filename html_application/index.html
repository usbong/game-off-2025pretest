<!--
/*
' Copyright 2022~2023 USBONG
'
' Licensed under the Apache License, Version 2.0 (the "License"); you may not use this file except in compliance with the License. You ' may obtain a copy of the License at
'
' http://www.apache.org/licenses/LICENSE-2.0
'
' Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an "AS IS" BASIS, ' WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing ' permissions and limitations under the License.
'
' @company: USBONG
' @author: SYSON, MICHAEL B.
' @date created: 20221214
' @date updated: 20231117; from 20231116
' @website: www.usbong.ph
'
'
' Notes:
' 1) website address: http://localhost/usbong_2DAnimationTool/html_application/usbongMotionTweenTool.html;
' last accessed: 20230410
'
' References:
' 1) https://phantomjs.org/; last accessed: 20200724
' downloaded phantomjs zipped file's examples: netsniff.js; last accessed: 20200725
'
' 2) https://nodejs.org/en/download/; last accessed: 20221214
' execute: .js file via: node halimbawa.js
' https://askubuntu.com/questions/1297994/what-is-the-simplest-way-to-run-javascript-code-on-ubuntu; last accessed: 20221214
'
' 3) http://localhost/usbong_2DAnimationTool/html_application/usbong2DAnimationTool.html;
' last accessed: 20230311
'
' 4) https://stackoverflow.com/questions/5027950/coordinates-for-my-javascript-game-based-on-an-angle-when-do-i-use-sin-cos-an;
' last accessed: 20230426
' answer by: Jimmy, 20110217T1212; from 20110217T1106
'
' 5) https://www.mathsisfun.com/sine-cosine-tangent.html;
' last accessed: 20230426
'
'*/
//added by Mike, 20230313
//TO-DO: -add: adjustable "STAGE" SIZE textbox
//TO-DO: -add: timeline?; remembers: DIRECTOR6, FLASH tool
//TO-DO: -note: location of image sprite file in assets folder, editable using GIMP tool
-->

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
<!-- TO-DO: -update: this -->
<!-- //edited by Mike, 20230314 //TO-DO: -add: option to set IF from internet
-->

<!--
  	<base href="http://localhost/usbong_2DAnimationTool/" target="_blank">
  	<base href="http://store.usbong.ph/" target="_blank">
-->

  </head>

  <title>
    Usbong Game Off 2023
  </title>

  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

  <style type="text/css">
		html, body
        {
            font-family: Arial;
			font-size: 11pt;

			/* edited by Mike, 20220911
			width: 640px;
			*/
			width: 100%; /*90%; 80%;*/
			height: 100%;

			padding: 0;
			margin: 0;

			/* //added by Mike, 20221002
			//reference: https://www.w3schools.com/howto/howto_css_disable_text_selection.asp;
			//last accessed: 20221002
			*/

			-webkit-user-select: none; /* Safari */
			-ms-user-select: none; /* IE 10 and IE 11 */
			user-select: none; /* Standard syntax */

			/* added by Mike, 20221012 */
			transform: scale(1.0);

			/* added by Mike, 20221119 */
			touch-action: none;
		}

		canvas.myCanvas {
			padding: 0;
			margin: auto;
			display: block;

/*
			width: 320px;
			height: 288px;
*/

			width: 448px; /*640px;*/
			height: 402px; /*576px;*/

			border: 1px solid gray;

			z-index: -1;
		}

		.ImageTileFrame1 {
			position: absolute;

      /*added by Mike, 20231105*/
  		clip: rect(0px,32px,32px,0px);

			visibility: hidden;
		}

		.ButtonSet, .TextInputSet {
			position: relative; /*absolute;*/
			font-size: 20px;
		}

		.LabelSet {
			position: relative; /*absolute;*/
			font-size: 24px;

			font-weight: bolder; /*bold;*/
		}

		.SelectAnimDirection {
			font-size: 22px;
		}

		table.TableSetPanel
		{
			position: absolute;
			border: 2px dotted #ab9c7d;
			margin-top: 0px; /*10px*/

			visibility: hidden;
		}


		.Image32x32Tile {
			position: absolute;
/*
			width: 256px;
			height: 256px;

			object-fit: contain;

			clip: rect(0px,64px,64px,0px);
*/
/*	//edited by Mike, 20231116
			width: 512px;
*/			
			width: 768px;
			height: 256px;

			object-fit: contain;

			clip: rect(0px,64px,64px,0px);

			background-color: transparent;
			border: none;

			color: #222222;

			/* //removed by Mike, 20221111
			opacity: 0.5;*/

			font-weight: bold;
			font-size: 146%; /*20px;*/

			text-align: center;
			line-height: 32px;


			visibility: hidden;

			margin: 0px; /*1px;*/
			padding: 0px;
			z-index: 3;

		}


    		/* noted by Mike, 20221105 */
    		.Image32x32TileTarget {
    			position: absolute;

    /* //added by Mike, 20221113; edited by Mike, 20230111*/
    /*
    			width: 128px;
    			height: 128px;
    */
    			width: 256px;
    			height: 256px;

    			object-fit: contain;


    			/* //added by Mike, 20221112; edited by Mike, 20230111 */
    /*
    			clip: rect(0px,32px,32px,0px);
    */
    			clip: rect(0px,64px,64px,0px);

    /* //removed by Mike, 20221112
    			width: 32px;
    			height: 32px;
    */

    /* //edited by Mike, 20221112 */
    /*
    			background-color: #ffffff;
    */
    background-color: transparent;
    border: none;
    			color: #222222;

    			/* //added by Mike, 20221111
    			   //TO-DO: -update: this
    			*/
    			opacity: 0.5;

    			font-weight: bold;
    			font-size: 146%; /*18px;*/

    			text-align: center;
    			line-height: 32px;

    			/*padding-top: 0.1875%;*/ /*6px;*/

    /* //note: with clip rect border is put on entire sprite image */
    /* //removed by Mike, 20221112
    			border: 3px solid #ff0000;
    			border-radius: 3px;
    */
    			margin: 0px; /*1px;*/
    			padding: 0px;
    			z-index: 4;
    		}

    		.Image32x32TileTargetBorder {
    			position: absolute;
    /*
    edited by Mike, 20230111
    			width: 27px;
    			height: 27px;
    */
    			width: 58px;
    			height: 58px;

    			background-color: transparent;
    			color: #222222;

    			font-weight: bold;
    			font-size: 146%; /*18px;*/

    			text-align: center;
    			line-height: 32px;

    			border: 3px solid #ff0000;
    			border-radius: 3px;

    			visibility: hidden;

    			margin: 0px;
    			padding: 0px;
    			z-index: 4;
    		}

    		.Image32x32TileSpaceBorder {
    			position: absolute;

    /*
    edited by Mike, 20230111
    			width: 27px;
    			height: 27px;
    */
    			width: 58px;
    			height: 58px;

    			background-color: transparent;
    			color: #222222;

    			font-weight: bold;
    			font-size: 146%; /*18px;*/

    			text-align: center;
    			line-height: 32px;

    			border: 3px solid #ffffff;
    			border-radius: 3px;

    			visibility: hidden;

    			margin: 0px;
    			padding: 0px;
    			z-index: 4;
    		}


    		.Image32x32TileSpaceTarget {
    			position: absolute;

    /*
    edited by Mike, 20230111
    			width: 27px;
    			height: 27px;
    */
    			width: 58px;
    			height: 58px;

    			background-color: #000000; /*#ffffff;*/
    			color: #222222;

    			text-align: center;
    			line-height: 32px;

    			border: 3px solid #ffffff; /*#ff0000;*/
    			border-radius: 3px;

    			margin: 0px;
    			padding: 0px;
    			z-index: 5;
    		}

    		/* added by Mike, 20221105 */
    		.Image32x32TileSpace {
    			position: absolute;

    /* //added by Mike, 20221113; edited by Mike, 20230111*/
    /*
    			width: 128px;
    			height: 128px;
    */
    			width: 256px;
    			height: 256px;
    			object-fit: contain;

    			/* //added by Mike, 20221112; edited by Mike, 20230111 */
    /*
    			clip: rect(0px,32px,32px,0px);
    */
    			clip: rect(0px,64px,64px,0px);


    /* //removed by Mike, 20221112
    			width: 32px;
    			height: 32px;
    */

    /* //edited by Mike, 20221112 */
    /*
    			background-color: #222222;
    */
    background-color: transparent;
    border: none;
    			color: #222222;

    			text-align: center;
    			line-height: 32px;

    			/*padding-top: 0.1875%;*/ /*6px;*/

    /* //note: with clip rect border is put on entire sprite image */
    /* //removed by Mike, 20221112
    			border: 3px solid #ff0000;
    			border-radius: 3px;
    */
    			margin: 0px; /*1px;*/
    			padding: 0px;

    			z-index: 3;
    		}


			/*added by Mike, 20231111 */
			div.DivTextStatus
			{
				position: absolute;
				
/*	//edited by Mike, 20221213
				background-color: #000000aa;
*/
				background-color: #00000099;
				color: #ffffff; /*#ffbd00;*/ /* gold */

				border: 3px solid #ffffff;
				border-radius: 4px;



				/*opacity: 50%;*/

				font-size: 16px;
				font-weight: bold;

/* //edited by Mike, 20230130
				margin: 10px;
*/
				padding: 10px;

				visibility: hidden;

				/* added by Mike, 20230128;
					put above tile images */
				z-index: 90; /*4;*/
			}

			div.DivTextEnter
			{
				position: absolute;
				/*background-color: #000000aa;*/
				color: #ffffff;

				/*opacity: 50%;*/

				font-size: 16px;
				font-weight: bold;

				/* //noted by Mike, 20230130 */
				padding: 10px;

				visibility: visible;
			}

      audio.myAudio
      {
        width: 416px;
        height: 312px;

        /* added by Mike, 20230115 */
        visibility: hidden;
      }


  </style>

  <script>


//added by Mike, 20221105
bIsTargetAtSpace = true;

iTargetAtSpaceBlinkAnimationCount=0;
iTargetAtSpaceBlinkAnimationCountMax=6;

//added by Mike, 20221106
iTargetTileBgCount=-1;

//added by Mike, 20221106
//note: 4x4
var iRowCount=0;
const iRowCountMax=4;
var iColumnCount=0;
const iColumnCountMax=4;
var arrayPuzzleTileCountId = [];
var arrayPuzzleTilePos = [ [],[],[],[] ];

const iTileBgCountMax=iRowCountMax*iColumnCountMax;


//added by Mike, 20231109
var bHasHitTileWithForeignKey=false;
var bIsPuzzleDone=false;

//added by Mike, 20231111
var bIsActionKeyPressed=false;

//added by Mike, 20231114
var iInputDelayCountMax=3;
var iInputDelayCount=iInputDelayCountMax;


//added by Mike, 20231111
//reference: https://github.com/usbong/tugon/blob/main/mainLinux.cpp;
//last accessed: 20221125
var bIsExecutingShake=false;
var iDestroyHumanShakeDelayCount=0;
var iDestroyHumanShakeDelayMax=5;

var iShakeOffsetWidthMax=2;
var iShakeOffsetHeightMax=2;

var iShakeOffsetWidth=iShakeOffsetWidthMax;
var iShakeOffsetHeight=iShakeOffsetHeightMax;

//added by Mike, 20231112
const sAudioEffectActionStart="assets/audio/usbongGameOff2023TapLoudEdited.mp3";

//added by Mike, 20231114
const sAudioEffectLowPower="assets/audio/voiceover/lowpower.mp3";

//added by Mike, 20231115
var iAnimationCount=0;
var iAnimationCountMax=5;
var iAnimationDelayCount=0;
var iAnimationDelayCountMax=10;



/*
//added by Mike, 20221108
var iCountMovementStep=0;

//added by Mike, 20221213
const iCountInitMovementStepMax=15;
const iCountMovementStepMax=100-iCountInitMovementStepMax;

//added by Mike, 20221214
var arrayCountMovementStep= [];

var bIsInitAutoGeneratePuzzleFromEnd=false;
var iDelayAnimationCountMovementStep=0;
const iDelayAnimationCountMovementStepMax=6;

//added by Mike, 20221129
var iPrevDirection=0;

//added by Mike, 20221121
var iDelayAnimationCountEnter=0;
const iDelayAnimationCountEnterMax=10;
*/

//added by Mike, 20231104

//added by Mike, 20230123
var iPuzzleTileWidth=64;
var iPuzzleTileHeight=64;

//added by Mike, 20230123
const iPuzzleTileTotalWidthMax=iPuzzleTileWidth*iColumnCountMax;
const iPuzzleTileTotalHeightMax=iPuzzleTileHeight*iRowCountMax;

var iBorderOffset=0;
var iOffsetWidth=0;
var iOffsetHeight=0;



	//added by Mike, 20221214
	var iCountMovementStep=0;
	const iCountInitMovementStepMax=15;
	const iCountMovementStepMax=100-iCountInitMovementStepMax;
	//edited by Mike, 20230421; from 20230418
	var iCountMovementStepDelay=0;
	const iCountMovementStepDelayMax=10;

	//added by Mike, 20230421
	//SOH-CAH-TOA
	//note: Max increase incrementally angle to end destination
	const iCountMovementDiagonalStepMax=5; //10
	var iCountMovementDiagonalStep=iCountMovementDiagonalStepMax;
	//edited by Mike, 20230426; from 20230425
	//360 and 0, @12 o'clock; rotation; image and step direction
	//inverted y;
	//SOH-CAH-TOA; where: use of cos and sin also interchanged;
	var iMainImageTileStepAngle=0;
    //var iMainImageTileStepAngleTemp=0;

    //added by Mike, 20230427
    var newMainImageTileProjectilePosX=0;
    var newMainImageTileProjectilePosY=0;
    var bHasFired=false;

	//added by Mike, 20230423
	var iMousePointPosX=0;
	var iMousePointPosY=0;

	var iPrevDirection=0;
	var bIsInitAutoGeneratePuzzleFromEnd=true;

	const iKEY_W = 0;
	const iKEY_S = 1;
	const iKEY_A = 2;
	const iKEY_D = 3;

	//edited by Mike, 20230418
/*
	const iKEY_I = 4;
	const iKEY_K = 5;
	const iKEY_J = 6;
	const iKEY_L = 7;
*/

	//added by Mike, 20230418
	const iKEY_Q = 4; //TOP-LEFT
	const iKEY_E = 5; //TOP-RIGHT
	const iKEY_C = 6; //BOTTOM-RIGHT
	const iKEY_Z = 7; //BOTTOM-LEFT

	const iKEY_I = 8;
	const iKEY_K = 9;
	const iKEY_J = 10;
	const iKEY_L = 11;

	//edited by Mike, 20230418
	const iTotalKeyCount = 12; //8; //4;
	const iDirectionTotalKeyCount = 8; //4;

	//added by Mike, 20230421
	var iDirection=-1;

	var arrayCountMovementStep= [];

	//added by Mike, 20230311
	var iFacingDirection=0;

	const iFACING_DOWN=0;
	const iFACING_UP=1;
	const iFACING_LEFT=2;
	const iFACING_RIGHT=3;

	//edited by Mike, 20230314
	//note: VALUES set in init()
	//const iTotalAnimImageFrameCount=2;//6;
	var iTotalAnimImageFrameCount;//=4;//6;
	var iAnimImageFrameCount;//=0;

	var iDefaultAnimationImageX;//=0; //default x
	var iDefaultAnimationImageY;//=0;//-32; //default y

//	var iTotalAnimImageFrameCount=4;

	/*	//removed by Mike, 20230312
	var iImageFrameSizeX=0;
	var iImageFrameSizeY=32;
*/
	//added by Mike, 20230315
	//edited by Mike, 20230418
	//var iAnimImageDirection=0; //vertical
	var iAnimImageDirection=1; //horizontal

	const AnimImageDirection_VERTICAL=0;
	const AnimImageDirection_HORIZONTAL=1;


	var bIsWalkingAction=true; //false;

	//edited by Mike, 20221129
	//1000/60=16.66; 60 frames per second
	//1000/30=33.33; 30 frames
	const fFramesPerSecondDefault=16.66;
	//const fFramesPerSecondDefault=33.33;
	var fFramesPerSecond=fFramesPerSecondDefault;
	var iCurrentIntervalId=-1;

	//edited by Mike, 20230315; from 20230311
	//adds 6 frames before frame update
	var iDelayAnimationCountMovementStep=0;
	var iDelayAnimationCountMovementStepMax=12; //6;

	//added by Mike, 20230410
	var mainImageTilePosX=0;
	var mainImageTilePosY=0;
	//edited by Mike, 20230418
	var mainImageTileStepX=0; //2;
	var mainImageTileStepY=0; //2;

	//added by Mike, 20230427
	var mainImageTileProjectilePosX=0;
	var mainImageTileProjectilePosY=0;
	//edited by Mike, 20230418
	var mainImageTileProjectileStepX=2;//0; //2;
	var mainImageTileProjectileStepY=2;//0; //2;

	//edited by Mike, 20230314
/*
	const iStageMaxWidth=160*2; //160;
	const iStageMaxHeight=144*2; //144;
*/
	//TO-DO: -add: auto-update Canvas' width and height to be EXACT
	var iStageMaxWidth=448; //640;
	var iStageMaxHeight=402; //576;

	var iHorizontalOffset=0;
	var iVerticalOffset=0;

	//note: for INNER SCREEN
	iHorizontalOffset=(screen.width)/2-iStageMaxWidth/2;
	iVerticalOffsetInnerScreen=0;

/*
	//added by Mike, 20230312
	//note: press TAB, then ENTER to SET
	function setAnimImageFrameX() {
		var setAnimImageFrameXText = document.getElementById("textSetAnimImageFrameXId");

		//notes: auto-sets to negative number;
		//TO-DO: -add: a checkbox as switch?
		if (setAnimImageFrameXText.value>0) {
			setAnimImageFrameXText.value=setAnimImageFrameXText.value*-1;
		}

		//alert(setAnimImageFrameXText.value);
		iDefaultAnimationImageX=setAnimImageFrameXText.value;//-32;
	}

	function setAnimImageFrameY() {
		var setAnimImageFrameYText = document.getElementById("textSetAnimImageFrameYId");

		//notes: auto-sets to negative number;
		//TO-DO: -add: a checkbox as switch?
		if (setAnimImageFrameYText.value>0) {
			setAnimImageFrameYText.value=setAnimImageFrameYText.value*-1;
		}

		//alert(setAnimImageFrameXText.value);
		iDefaultAnimationImageY=setAnimImageFrameYText.value;//-32;
	}

	function setAnimImageFrameWidth() {
		var setAnimImageFrameWidthText = document.getElementById("textSetAnimImageFrameWidthId");

		//alert(setAnimImageFrameXText.value);
		iImageFrameWidth=setAnimImageFrameWidthText.value;//-32;
	}

	function setAnimImageFrameHeight() {
		var setAnimImageFrameHeightText = document.getElementById("textSetAnimImageFrameHeightId");

		//alert(setAnimImageFrameXText.value);
		iImageFrameHeight=setAnimImageFrameHeightText.value;//-32;
	}

	function setAnimDelay() {
		var setAnimDelayText = document.getElementById("textSetAnimDelayId");
					iDelayAnimationCountMovementStepMax=setAnimDelayText.value;
	}

	function setTotalAnimImageFrameCount() {
		var setTotalAnimImageFrameCountText = document.getElementById("textSetTotalAnimImageFrameCountId");

		//notes: auto-sets to positive number;
		if (setTotalAnimImageFrameCountText.value<0) {
			setTotalAnimImageFrameCountText.value=setTotalAnimImageFrameCountText.value*-1;
		}

		//edited by Mike, 20230314
		iTotalAnimImageFrameCount=setTotalAnimImageFrameCountText.value;
	}
*/

	//added by Mike, 20230410
	//reference: timeoff.php
	//TO-DO: -update: this
	//note: Carnage Heart from Videogame Magazines, Artificial Intelligence
	//edited by Mike, 20230418
//	function autoGeneratePuzzleFromEnd() {
	//added: diagonal; combination of horizontal and vertical movements
	//TO-DO: -verify: ellipse movement;
	function autoIdentifyNextDirectionAI() {
		//edited by Mike, 20230418
		//sRecordedSteps="3121220312133003112111302212133333303312003030030303133122112122121303033033311212002";

		//edited by Mike, 20230419
		//sRecordedSteps="6666666666133003112111302212133333303312003030030303133122112122121303033033311212002";
		//edited by Mike, 20230421
//		sRecordedSteps="111111111116633333333333550000004422222222220";
//		sRecordedSteps="66";
//		sRecordedSteps="663355";//004422";
//		sRecordedSteps="66666663355";//004422";
		sRecordedSteps="6666666333550004422277111";

/*
		var puzzleRecordedStepsSpan = document.getElementById("puzzleRecordedStepsId");
		sRecordedSteps=puzzleRecordedStepsSpan.innerHTML;
*/

	/*
		arrayKeyPressed[iKEY_A]=true;
		arrayKeyPressed[iKEY_K]=true;
	*/

/* //added by Mike, 20230418
		mainImageTileStepX=2;
		mainImageTileStepY=0;

		return;
*/

		//reference: https://www.w3schools.com/jsref/jsref_random.asp;
		//last accessed: 20221108
		//number between 0 and 4; integer only
	//	for (iCount=0; iCount<iCountMovementStepMax; iCount++) {

		if (iCountMovementStepDelay<iCountMovementStepDelayMax) {
			iCountMovementStepDelay=iCountMovementStepDelay+1;
			return;
		}
		else {
			iCountMovementStepDelay=0;
		}

		if (iCountMovementStep<iCountMovementStepMax) {

			//edited by Mike, 20221214; from 20221129
			//random
			//let iDirection = window.parseInt(Math.random() * 4);

			//OK
			//edited by Mike, 20230421
			//let iDirection=parseInt(sRecordedSteps.substr(iCountMovementStep,1));
			iDirection=parseInt(sRecordedSteps.substr(iCountMovementStep,1));

			switch (iDirection) {
				case iKEY_W: //0
/*
					arrayKeyPressed[iKEY_W]=true;
					arrayKeyPressed[iKEY_K]=true;
*/
					mainImageTileStepX=0;
					mainImageTileStepY=-2;

					//added by Mike, 20230421
					//iMainImageTileStepAngleiMainImageTileStepAngle=0;
					break;
				case iKEY_S: //1
/*
					arrayKeyPressed[iKEY_S]=true;
					arrayKeyPressed[iKEY_K]=true;
*/
					mainImageTileStepX=0;
					mainImageTileStepY=2;

					//added by Mike, 20230421
					//iMainImageTileStepAngle=0;
					break;
				case iKEY_A: //2
/*
					arrayKeyPressed[iKEY_A]=true;
					arrayKeyPressed[iKEY_K]=true;
*/
					mainImageTileStepX=-2;
					mainImageTileStepY=0;

					//added by Mike, 20230421
					//iMainImageTileStepAngle=0;
					break;
				case iKEY_D: //3
/*
					arrayKeyPressed[iKEY_D]=true;
					arrayKeyPressed[iKEY_K]=true;
*/
					mainImageTileStepX=2;
					mainImageTileStepY=0;

					//added by Mike, 20230421
					//iMainImageTileStepAngle=0;
					break;

				//DIAGONAL PART
				case iKEY_Q: //4; TOP-LEFT
					mainImageTileStepX=-2;
					mainImageTileStepY=-2;

					//added by Mike, 20230421
					iMainImageTileStepAngle=90+45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/
					break;
				case iKEY_E: //5; TOP-RIGHT
					mainImageTileStepX=2;
					mainImageTileStepY=-2;

					//added by Mike, 20230421
					//alert(iMainImageTileStepAngle);
					//alert("iCountMovementDiagonalStep: "+iCountMovementDiagonalStep);

					//iMainImageTileStepAngle=(360-iMainImageTileStepAngle)+45;
					iMainImageTileStepAngle=45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/
					break;
				case iKEY_C: //6; BOTTOM-RIGHT
					mainImageTileStepX=2;
					mainImageTileStepY=2;

					//alert(iCountMovementDiagonalStep);

					//added by Mike, 20230421
					iMainImageTileStepAngle=270+45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/
					break;
				case iKEY_Z: //7; BOTTOM-LEFT
					mainImageTileStepX=-2;
					mainImageTileStepY=2;

					//added by Mike, 20230421
					iMainImageTileStepAngle=180+45;

/*					//removed by Mike, 20230422
					if (iCountMovementDiagonalStep<iCountMovementDiagonalStepMax) {
						iCountMovementDiagonalStep++;
						return;
					}
					else {
						iCountMovementDiagonalStep=0;
					}
*/
					break;
			}

/*
			//added by Mike, 20221214
			arrayCountMovementStep[iCountMovementStep]=iDirection;
*/

			iCountMovementStep++;
		}
		else {
			bIsInitAutoGeneratePuzzleFromEnd=false;

	/*		//TO-DO: -add: in Database, with datetime stamp
			//added by Mike, 20221214
			var sRecordedSteps="";

			for (let iCount=0; iCount<iCountMovementStep; iCount++) {
				sRecordedSteps=sRecordedSteps.concat(arrayCountMovementStep[iCount]);
			}


			//OK
			//example output: 3121220312133003112111302212133333303312003030030303133122112122121303033033311212002
			alert(sRecordedSteps);
	*/
		}

	}

	//added by Mike, 20230427
	function resetProjectile() {
		var mainImageTileProjectile = document.getElementById("mainImageTileProjectileImageId");

		//added by Mike, 20230427
		mainImageTileProjectilePosX=iStageMaxWidth/2-iImageFrameWidth/2;
		mainImageTileProjectilePosY=iStageMaxHeight/2-iImageFrameHeight/2;

		//TO-DO: -update: newMainImage... step
		newMainImageTileProjectilePosX=0; //mainImageTileProjectilePosX;
		newMainImageTileProjectilePosY=0; //mainImageTileProjectilePosY;

		mainImageTileProjectile.style.left = (iHorizontalOffset+mainImageTilePosX)+"px";

		mainImageTileProjectile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+"px";

		mainImageTileProjectile.style.visibility="hidden";
		bHasFired=false;

		//added by Mike, 20230428
		iMainImageTileStepAngle=0;

		//alert("dito");
	}

	//added by Mike, 20230312
	//TO-DO: -update: variable container names
	//TO-DO: -fix: SET button NOT focused on SAFARI
	function init() {
		//TO-DO: -update: this; add in window, input boxes
		//note: parameters
		iDefaultAnimationImageX=0;//-32; //default x
 		iDefaultAnimationImageY=0;//-32; //default y

		//edited by Mike, 20230418
		//iTotalAnimImageFrameCount=4;//2;
		iTotalAnimImageFrameCount=2;

		//edited by Mike, 20230322
		iImageFrameWidth=64;// 32; //0;
		iImageFrameHeight=64;// 32;

/*
		var setAnimImageFrameWidthText = document.getElementById("textSetAnimImageFrameWidthId");
		var setAnimImageFrameHeightText = document.getElementById("textSetAnimImageFrameHeightId");

		var setAnimImageFrameXText = document.getElementById("textSetAnimImageFrameXId");
		var setAnimImageFrameYText = document.getElementById("textSetAnimImageFrameYId");

		var setTotalAnimImageFrameCountText = document.getElementById("textSetTotalAnimImageFrameCountId");

		var setAnimDelayText = document.getElementById("textSetAnimDelayId");

		//added by Mike, 20230315
		var setPanelTable = document.getElementById("tableSetPanelId");
    */

		var mainImageTile = document.getElementById("mainImageTileImageId");

		var mainImageTileProjectile = document.getElementById("mainImageTileProjectileImageId");

/*
		setAnimImageFrameWidthText.value=iImageFrameWidth;
		setAnimImageFrameHeightText.value=iImageFrameHeight;

		setAnimImageFrameXText.value=iDefaultAnimationImageX;
		setAnimImageFrameYText.value=iDefaultAnimationImageY;

		//added by Mike, 20230314
	setTotalAnimImageFrameCountText.value=iTotalAnimImageFrameCount;
		//added by Mike, 20230315
setAnimDelayText.value=iDelayAnimationCountMovementStepMax;


		//added by Mike, 20230315
		setPanelTable.style.left = (iHorizontalOffset+iStageMaxWidth)+"px";
		setPanelTable.style.top = (iVerticalOffsetInnerScreen)+"px";
		setPanelTable.style.visibility = "visible";
*/

		//removed by Mike, 20230321
		//mainImageTile.style.visibility = "visible";

		//added by Mike, 20230423
		mainImageTilePosX=iStageMaxWidth/2-iImageFrameWidth/2;
		mainImageTilePosY=iStageMaxHeight/2-iImageFrameHeight/2;
		mainImageTile.style.left = (iHorizontalOffset+mainImageTilePosX)+"px";
		mainImageTile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+"px";

		//added by Mike, 20230427
		mainImageTileProjectilePosX=iStageMaxWidth/2-iImageFrameWidth/2;
		mainImageTileProjectilePosY=iStageMaxHeight/2-iImageFrameHeight/2;

		//TO-DO: -update: "newMain" to ..."step"
		newMainImageTileProjectilePosX=0;//mainImageTileProjectilePosX;
		newMainImageTileProjectilePosY=0;//mainImageTileProjectilePosY;

		mainImageTileProjectile.style.left = (iHorizontalOffset+mainImageTilePosX)+"px";

		mainImageTileProjectile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+"px";

	}


	//added by Mike, 20231109
	function isAutoVerifiedPuzzleDone() {

		//bIsPuzzleDone=true;

		//note: "var" to create new container inside for loop
    	for (var iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
    		for (var iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {

				var iTileBgCount=arrayPuzzleTilePos[iRowCount][iColumnCount];

				//alert("!!!! iTileBgCount: "+iTileBgCount);

				//verify if all tiles do not have anymore copies;

				//added by Mike, 20231111; hint "var" keyphrase
				//fixed: game finished even if only triangle has no copy;
				if (hasCopy(iTileBgCount)) {
					//alert("DITO!");

					//bIsPuzzleDone=false;

					return false; //bIsPuzzleDone;
				}

/*
				//verify for all tile types; alt
				else {
					bIsPuzzleDone=true;
				}
*/
			}
		}

		//TODO: -update: this
		return true; //bIsPuzzleDone; //false;

//		return false;
	}

	function myUpdateFunction() {
		var mainImageTile = document.getElementById("mainImageTileImageId");
		//added by Mike, 20230427
		var mainImageTileProjectile = document.getElementById("mainImageTileProjectileImageId");

		//added by Mike, 20231111
		var puzzleTileImageSpaceBorder = document.getElementById("divPuzzleTileImageSpaceBorderId");

		var textStatusDiv = document.getElementById("textStatusDivId");
		var textEnterDiv = document.getElementById("textEnterDivId");

/*
		//var setAnimImageFrameXButton = document.getElementById("buttonSetAnimImageFrameXId");
		var setPanelTable = document.getElementById("tableSetPanelId");

		var setAnimImageFrameWidthText = document.getElementById("textSetAnimImageFrameWidthId");
		var setAnimImageFrameHeightText = document.getElementById("textSetAnimImageFrameHeightId");

		//added by Mike, 20230315
		var animDirectionSelectedIndex = document.getElementById("selectAnimDirectionId").selectedIndex;
*/
		//added by Mike, 20230313
		//reference: https://www.w3schools.com/tags/canvas_fillrect.asp;
		//last accessed: 2020911
		var myCanvas = document.getElementById("myCanvasId");
		var myCanvasContext = myCanvas.getContext("2d");

		//myCanvasContext.clearRect(0, 0, iStageMaxWidth, iStageMaxHeight);

		//myCanvasContext.fillStyle = "#000000"; //black; //"#ababab"; //"rgb(128,89,27)"; //"#604122"; //"blue";

		//myCanvasContext.fillStyle = "#c5c5c5"; //gray
		//edited by Mike, 20231116
		//myCanvasContext.fillStyle = "#ffffff"; //white background//stage
		//myCanvasContext.fillStyle = "#8dff6e"; //light green background//stage

		myCanvasContext.fillStyle = "#1c640b"; //dark green background//stage

		myCanvasContext.fillRect(0, 0, iStageMaxWidth, iStageMaxHeight);


//added by Mike, 20231105

/*
	//added by Mike, 20230106
	if ((!bIsMobile) || (bIsUsingAppleMac)) {
//	if (!bIsMobile) {
	}
	else {
		if (!bHasSetMaxWidthHeight) {
			iStageMaxWidth=iStageMaxWidth/2;
			iStageMaxHeight=iStageMaxHeight/2;

			iTitleImageWidth = iTitleImageWidth/2;
			iTitleImageHeight = iTitleImageHeight/2;

	//	alert(myCanvas.style.width);
			myCanvas.style.width = iDefaultCanvasWidth/2 +"px"; //"300px";
			myCanvas.style.height = iDefaultCanvasHeight/2 +"px";

			bHasSetMaxWidthHeight=true;
		}
	}
*/

/*
	var iControllerGuideImageWidth = (controllerGuideImage.clientWidth);
	var iControllerGuideImageHeight = (controllerGuideImage.clientHeight);

	//added by Mike, 20230115
	var iStepCountGuideImageWidth = (stepCountGuideImage.clientWidth);
	var iStepCountGuideImageHeight = (stepCountGuideImage.clientHeight);
*/



//alert (iHorizontalOffset);

/* //edited by Mike, 20231111
		//added by Mike, 20221002; edited by Mike, 20221005
		//myCanvas.style.top = (0)+"px"; //iVerticalOffset+
		myCanvas.style.top = (iVerticalOffsetInnerScreen+0)+"px"; //iVerticalOffset+

		//added by Mike, 20221012
		iHorizontalOffset=myCanvas.getBoundingClientRect().x;
*/

	if (bIsExecutingShake) {
		iShakeOffsetWidth=iShakeOffsetWidthMax;
		iShakeOffsetHeight=iShakeOffsetHeightMax;

		//alert("dito");

		if (iDestroyHumanShakeDelayCount==iDestroyHumanShakeDelayMax) {
			//myKeysDown[KEY_K] = FALSE;
    		bIsExecutingShake = false;
    		iDestroyHumanShakeDelayCount=0;
    	}
    	else {
				iDestroyHumanShakeDelayCount+=1;
    	}
	}
	else {
  			iShakeOffsetWidth=0;
			iShakeOffsetHeight=0;
	}


	myCanvas.style.top = (iVerticalOffsetInnerScreen+0)+iShakeOffsetHeight+"px";
	iHorizontalOffset=myCanvas.getBoundingClientRect().x+iShakeOffsetWidth;





 //removed by Mike, 20230424
		//edited by Mike, 20230423; from 20230321
		mainImageTile.style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)";

		//added by Mike, 20230427
//		mainImageTileProjectile.style.clip = "rect("+iImageFrameWidth*2+"px "+iImageFrameWidth+"px "+iImageFrameHeight+"px "+iImageFrameWidth*2+"px)";

		mainImageTileProjectile.style.clip = "rect(0px "+iImageFrameWidth+"px "+iImageFrameHeight+"px 0px)";

//reference: https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin; last accessed: 20230424
//note: transform rotate uses whole unclipped image size; 256x256px
//25%/2 = 12.5%
mainImageTile.style.transformOrigin = "12.5% 12.5%";


//clockwise
//iMainImageTileStepAngle=(iMainImageTileStepAngle+1)%360;
//counter-clockwise
//iMainImageTileStepAngle=(iMainImageTileStepAngle-1)%360;

/*
//removed by Mike, 20230428;
//use mouse position to identify angle
//edited by Mike, 20230427
if (!bHasFired) {
//clockwise
iMainImageTileStepAngle=(iMainImageTileStepAngle+1)%360;

					mainImageTile.style.transform = "rotate("+ (iMainImageTileStepAngle % 360) +"deg)";
}
*/

//mainImageTile.style.transform = "rotate("+ (fMainImageTileStepAngleDegrees % 360) +"deg)";



/*
iMainImageTileStepAngle+=5;

	var fMainImageTileStepAngleRad=iMainImageTileStepAngle*Math.PI/180.0;

mainImageTile.style.transform = "rotate("+ (iMainImageTileStepAngle % 360) +"deg)";



mainImageTileStepX=15; //2;
					mainImageTileStepY=15; //2;

					//note: negative; due to inverted y-axis
					//newMainImageTilePosY=mainImageTileStepX/Math.sin(fMainImageTileStepAngleRad).toFixed(3);
				newMainImageTilePosY=mainImageTileStepY*Math.cos(fMainImageTileStepAngleRad).toFixed(3);

//					alert(newMainImageTilePosY);
					newMainImageTilePosY*=-1;


					//newMainImageTilePosX=mainImageTileStepY/Math.cos(fMainImageTileStepAngleRad).toFixed(3);
										newMainImageTilePosX=mainImageTileStepX*Math.sin(fMainImageTileStepAngleRad).toFixed(3);


							mainImageTilePosY=mainImageTilePosY+newMainImageTilePosY;
					mainImageTilePosX=mainImageTilePosX+newMainImageTilePosX;

					//alert("mainImageTileStepX: "+mainImageTileStepX);
					//alert("mainImageTilePosY Part1: "+mainImageTilePosY);
		mainImageTile.style.left = (iHorizontalOffset+mainImageTilePosX)+"px";
		mainImageTile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+"px";
		*/


/*
	textStatusDiv.style.left = 0+iHorizontalOffset+iStageMaxWidth/2 -iTextStatusDivWidth/2 +"px";
	textStatusDiv.style.top = 0+iStageMaxHeight-iTextStatusDivHeight*1.5+"px";
*/

		//added by Mike, 20231111
		if (bIsActionKeyPressed) {
/*
			alert ("iTargetAtSpaceBlinkAnimationCount: "+iTargetAtSpaceBlinkAnimationCount);
			alert ("iTargetAtSpaceBlinkAnimationCountMax: "+iTargetAtSpaceBlinkAnimationCountMax);
*/
			//alert ("modulo: "+iTargetAtSpaceBlinkAnimationCount%iTargetAtSpaceBlinkAnimationCountMax);

			iTargetAtSpaceBlinkAnimationCount++;

			//if (iTargetAtSpaceBlinkAnimationCount==iTargetAtSpaceBlinkAnimationCountMax) {
			if ((iTargetAtSpaceBlinkAnimationCount%iTargetAtSpaceBlinkAnimationCountMax)==0) {

				puzzleTileImageSpaceBorder.style.visibility = "visible";

				if (iTargetAtSpaceBlinkAnimationCount==iTargetAtSpaceBlinkAnimationCountMax*5) {

					bIsActionKeyPressed=false;
					iTargetAtSpaceBlinkAnimationCount=0;
					puzzleTileImageSpaceBorder.style.visibility = "hidden";
				}
			}
			else {
				puzzleTileImageSpaceBorder.style.visibility =   "hidden";
				//iTargetAtSpaceBlinkAnimationCount++;
			}
		}


		//notes: delay before CHANGE in frame
		//adds max (12) frames before frame update
		if (iDelayAnimationCountMovementStep<iDelayAnimationCountMovementStepMax) {
			iDelayAnimationCountMovementStep++;
		}
		else {
			iDelayAnimationCountMovementStep=0;

			//updated: IF using > 2 animating image frames


			if (animDirectionSelectedIndex==AnimImageDirection_VERTICAL) {
				mainImageTile.style.objectPosition=(iDefaultAnimationImageX-(0))+"px "+
										   	(iDefaultAnimationImageY-(iAnimImageFrameCount*iImageFrameHeight))+"px";
			}
			//AnimImageDirection_HORIZONTAL
			else {
				mainImageTile.style.objectPosition=(iDefaultAnimationImageX-(iAnimImageFrameCount*iImageFrameWidth))+"px "+(iDefaultAnimationImageY-(0))+"px";
			}

			if (iAnimImageFrameCount<(iTotalAnimImageFrameCount-1)) {
				iAnimImageFrameCount++;
			}
			else {
				iAnimImageFrameCount=0;
			}
		}


/*	//removed by Mike, 20230425
		mainImageTile.style.left = (iHorizontalOffset)+mainImageTilePosX+"px";
		mainImageTile.style.top = (iVerticalOffsetInnerScreen)+mainImageTilePosY+"px";
*/


	  //added by Mike, 20230427
	  //movement
	  if (bHasFired) {
/*
//alert("mainImageTileProjectilePosY: "+mainImageTileProjectilePosY);
mainImageTileProjectilePosY=mainImageTileProjectilePosY+newMainImageTileProjectilePosY;
//alert("newMainImageTileProjectilePosY: "+newMainImageTileProjectilePosY);
					mainImageTileProjectilePosX=mainImageTileProjectilePosX+newMainImageTileProjectilePosX;
*/
mainImageTileProjectilePosY=mainImageTileProjectilePosY+newMainImageTileProjectilePosY;
					mainImageTileProjectilePosX=mainImageTileProjectilePosX+newMainImageTileProjectilePosX;

/*
mainImageTileProjectilePosY++;
//alert("newMainImageTileProjectilePosY: "+newMainImageTileProjectilePosY);
					mainImageTileProjectilePosX++;								*/
					//alert("mainImageTileStepX: "+mainImageTileStepX);
mainImageTileProjectile.style.visibility = "visible";


		mainImageTileProjectile.style.left = (iHorizontalOffset)+mainImageTileProjectilePosX+"px";
		mainImageTileProjectile.style.top = (iVerticalOffsetInnerScreen)+mainImageTileProjectilePosY+"px";

//alert(iHorizontalOffset);
//alert(iVerticalOffsetInnerScreen);

/*
		mainImageTileProjectile.style.left = (iHorizontalOffset+mainImageTilePosX)+mainImageTileProjectilePosX+"px";

		mainImageTileProjectile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+mainImageTileProjectilePosY+"px";
*/

//STAGE; MAX
//TO-DO: -fix: this

//		if (mainImageTileProjectilePosX+iImageFrameWidth>iHorizontalOffset+iStageMaxWidth) {

	//edited by Mike, 20230428; OK; inside stage border;
		if (mainImageTileProjectilePosX+iImageFrameWidth>iStageMaxWidth) {
			resetProjectile();
		}
		else if (mainImageTileProjectilePosX<0){//+iHorizontalOffset) {
				resetProjectile();
		}
//		if (mainImageTileProjectilePosY+iImageFrameHeight>iVerticalOffset+iStageMaxHeight) {

		if (mainImageTileProjectilePosY+iImageFrameHeight>iStageMaxHeight) {
			resetProjectile();
		}
//		else if (mainImageTileProjectilePosY<0+iVerticalOffset) {
		else if (mainImageTileProjectilePosY<0) {
			resetProjectile();
		}

/* //outside stage border;
		if (mainImageTileProjectilePosX>iStageMaxWidth) {
			resetProjectile();
		}
		else
		if (mainImageTileProjectilePosX+iImageFrameWidth<0) {
				resetProjectile();
		}

		if (mainImageTileProjectilePosY>iStageMaxHeight) {
			resetProjectile();
		}
		else if (mainImageTileProjectilePosY+iImageFrameHeight<0) {
			resetProjectile();
		}
*/

	  }

//		mainImageTilePosX++;
//		mainImageTilePosX--;
//		mainImageTilePosY++;

		//edited by Mike, 20230423; from 20230418
		//autoIdentifyNextDirectionAI();
		//autoIdentifyNextDirectionAIPart2Mouse();

		//edited by Mike, 20230421
/*
		mainImageTilePosX+=mainImageTileStepX; //horizontal movement;
		mainImageTilePosY+=mainImageTileStepY; //goes downward; vertical
*/



		//TO-DO: -add: function; AI; Artificial Intelligence
		//combination of forward, diagonal movements

		//STAGE; MAX
		if (mainImageTilePosX+iImageFrameWidth>iStageMaxWidth) {
			mainImageTilePosX=iStageMaxWidth-iImageFrameWidth;
		}
		else if (mainImageTilePosX<0) {
			mainImageTilePosX=0;
		}

		if (mainImageTilePosY+iImageFrameHeight>iStageMaxHeight) {
			mainImageTilePosY=iStageMaxHeight-iImageFrameHeight;
		}
		else if (mainImageTilePosY<0) {
			mainImageTilePosY=0;
		}


		//edited by Mike, 20230423; from 20230321;
		mainImageTile.style.visibility = "visible";
		//mainImageTile.style.visibility = "hidden";

		//removed by Mike, 20230427
		//mainImageTileProjectile.style.visibility = "visible";



/*
		setAnimImageFrameXButton.style.left = (iHorizontalOffset+iStageMaxWidth)+"px";
		setAnimImageFrameXButton.style.top = (iVerticalOffsetInnerScreen)+"px"; //+iStageMaxHeight
*/


		//added by Mike, 20230428
		mainImageTilePosX=iStageMaxWidth/2-iImageFrameWidth/2;
		mainImageTilePosY=iStageMaxHeight/2-iImageFrameHeight/2;
		mainImageTile.style.left = (iHorizontalOffset+mainImageTilePosX)+"px";
		mainImageTile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+"px";


/*
		setPanelTable.style.left = (iHorizontalOffset+iStageMaxWidth)+"px";
		setPanelTable.style.top = (iVerticalOffsetInnerScreen)+"px"; //+iStageMaxHeight
*/

    //added by Mike, 20231105
    //-----------------

    	let iTileBgCount=0;

    /* //edited by Mike, 20230111
    	let iPuzzleTileWidth=32;
    	let iPuzzleTileHeight=32;
    */
    /*	//removed by Mike, 20230123
    	let iPuzzleTileWidth=64;
    	let iPuzzleTileHeight=64;
    */

    /*	//removed by Mike, 20230123
    	const iPuzzleTileTotalWidthMax=iPuzzleTileWidth*iColumnCountMax;
    	const iPuzzleTileTotalHeightMax=iPuzzleTileHeight*iRowCountMax;

    //	alert(iPuzzleTileWidth);
    //	alert (iPuzzleTileTotalMaxWidth);

    */

    	//edited by Mike, 20230123
    	iBorderOffset=0; //2;
    	iOffsetWidth=iStageMaxWidth/2-iPuzzleTileTotalWidthMax/2;
      iOffsetHeight=iStageMaxHeight/2-iPuzzleTileTotalHeightMax/2;

    	//removed by Mike, 20221106
    	//16=4*4
    	//const iTileBgCountMax=iRowCountMax*iColumnCountMax;

    	//added by Mike, 20221113
    	var bHasExecutedTileExchange=false;

    	//added by Mike, 20221119
    	var puzzleTileImageTargetBorder = document.getElementById("divPuzzleTileImageTargetBorderId");

    	//added by Mike, 20221121
    	var puzzleTileImageSpaceBorder = document.getElementById("divPuzzleTileImageSpaceBorderId");

    /* //removed by Mike, 20230129
    	//added by Mike, 202221121
    	var miniPuzzleTileImage = document.getElementById("miniPuzzleTileImageId");

    	//added by Mike, 20221121
    	//add mini puzzle tile image after auto-generating
    	if (!bIsInitAutoGeneratePuzzleFromEnd) {
    		miniPuzzleTileImage.style.visibility = "visible";
    	}

    	miniPuzzleTileImage.style.left = iHorizontalOffset+"px";
    	miniPuzzleTileImage.style.top= (iStageMaxHeight-iMiniPuzzleHeight)+"px";
    */
/*
    	//added by Mike, 20231112; from 20221124
      var myAudio = document.getElementById("myAudioId");
*/
    	//edited by Mike, 20221127
    	//iCurrentPuzzleStage=1;

    //iCurrentPuzzleStage=1;
    	//miniPuzzleTileImage

    /* //removed by Mike, 20230710
    	switch (iCurrentPuzzleStage) {
    		case 0: //starting level
    			if (myAudio.src!=getBaseURL()+sAudioPuzzleStage0) {
    				if (myAudio.volume>0) {
    					//edited by Mike, 20221125; from 20221124
    					fMyAudioVolume-=0.2;
    					if (fMyAudioVolume<0) {
    						fMyAudioVolume=0;
    					}

    					myAudio.volume=fMyAudioVolume;
    				}
    				else {
    					//alert("dito");
    					myAudio.pause();
    					myAudio.setAttribute("src", getBaseURL()+sAudioPuzzleStage0);

    					//edited by Mike, 20221125
    					//myAudio.volume=1.0;
    					fMyAudioVolume=1.0;
    					//myAudio.volume=1.0;
    					myAudio.volume=fMyAudioVolume;

    					//added by Mike, 20221129
    					if (textEnterDiv.style.visibility=="hidden") {
    						myAudio.play();
    					}
    				}
    			}
    			//added by Mike, 20221130
    			else {
    				fMyAudioVolume=1.0;
    				myAudio.volume=fMyAudioVolume;
    			}
    			break;


    		default: //END
    			break;
    	}
    */

    	//added by Mike, 20221124; removed by Mike, 20221124
    	//iTileBgCount=0;

    //	for (let iTileBgCount=0; iTileBgCount<16; iTileBgCount++) {
    	for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
    		for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {


    		//edited by Mike, 20221118
    		//arrayPuzzleTileCountId[iTileBgCount] = document.getElementById("puzzleTileImageIdBg"+iTileBgCount);

    		arrayPuzzleTileCountId[iTileBgCount] = document.getElementById("puzzleTileImageIdBg"+iTileBgCount);

    		//added by Mike, 20221118
    		//reference: https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_img_create;
    		//last accessed: 20221118
    		//edited by Mike, 20221121
    //		arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");

/*
    		//edited by Mike, 20221122; from 20221121
    		//iCurrentPuzzleStage=1;
    		switch (iCurrentPuzzleStage) {
    			case 0: //starting level; numbers sequence
    				//alert("dito");

    				//edited by Mike, 20221124
    			//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");

    				if (arrayPuzzleTileCountId[iTileBgCount].src!=getBaseURL()+sImagePuzzleStage0) {

    				    //edited by Mike, 20221127	//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");
    					arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage0);
    				}
    				break;
    			case 1: //next level; cambodia
    				arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage1);
    				break;
    			case 2: //next level; duck army
    				arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage2);
    				break;
    			default:
    				iCurrentPuzzleStage=0;

    				//repeat from starting level
    				//edited by Mike, 20221124
    			//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");
    				if (arrayPuzzleTileCountId[iTileBgCount].src!=getBaseURL()+sImagePuzzleStage0) {
    					//edited by Mike, 20221127
    				//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");
    arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage0);

    				}
    				break;
    		}
        */

    		//alert(iTileBgCount);

        //alert(iBorderOffset);
			

//    		arrayPuzzleTileCountId[iTileBgCount].style.left = iHorizontalOffset+iOffsetWidth+iPuzzleTileWidth*iColumnCount+iBorderOffset*iColumnCount+"px";
    		arrayPuzzleTileCountId[iTileBgCount].style.left = iHorizontalOffset+iOffsetWidth+iPuzzleTileWidth*iColumnCount+iBorderOffset*iColumnCount+"px";

    //		arrayPuzzleTileCountId[iTileBgCount].style.top = iVerticalOffset+iPuzzleTileHeight*iColumnCount+"px";
    		arrayPuzzleTileCountId[iTileBgCount].style.top = 0+iOffsetHeight+iPuzzleTileHeight*iRowCount+iBorderOffset*iRowCount+"px";


    //		alert (iPuzzleTileWidth*iRowCount);

/*
//added by Mike, 20231105
//TODO: -add: bHasPressedStart

    		//edited by Mike, 20221127	//arrayPuzzleTileCountId[iTileBgCount].style.visibility="visible";
    		if (bHasPressedStart) {
    			arrayPuzzleTileCountId[iTileBgCount].style.visibility="visible";
    		}
*/

        iTileBgCount++;
      }
    }

/* //removed by Mike, 20231110; added to function for click/touch
	bIsPuzzleDone = isAutoVerifiedPuzzleDone();

	//alert(bIsPuzzleDone);

	if (bIsPuzzleDone) {
		alert("CONGRATULATIONS!");
	}
*/

//    alert(iColumnCount);

    //----------

		//edited by Mike, 20221113; 20221112
		autoUpdatePuzzleTileImage();

		//added by Mike, 20231111
		if (bIsPuzzleDone) {
			//removed by Mike, 20231111
			//alert("CONGRATULATIONS!");

			//added by Mike, 20231111
			var sText = "CONGRATULATIONS!";
			
			textStatusDiv.innerHTML = sText;
			
			//alert(sText.length);
			var iTextStatusDivWidth = (textStatusDiv.clientWidth);
			var iTextStatusDivHeight = (textStatusDiv.clientHeight);


			//TODO: -update: this
			//iOffsetWidth			
			textStatusDiv.style.left = 0+iHorizontalOffset+iStageMaxWidth/2 -iTextStatusDivWidth/2 +"px";
				
				//textStatusDiv.style.left = 0+iHorizontalOffset+iOffsetWidth+"px";
		
			//iOffsetHeight
			textStatusDiv.style.top = 0+iStageMaxHeight-iTextStatusDivHeight*1.5+"px";
			
			textStatusDiv.style.visibility="visible";

/*
			//added by Mike, 20221125
			if (myAudio.volume>0) {
				fMyAudioVolume-=0.2;

				if (fMyAudioVolume<0) {
					fMyAudioVolume=0;
				}

				myAudio.volume=fMyAudioVolume;
			}
			else {
				myAudio.pause();
			}
*/



			//reset
			bIsActionKeyPressed=false;
			iTargetAtSpaceBlinkAnimationCount=0;
			puzzleTileImageSpaceBorder.style.visibility = "hidden";
			puzzleTileImageTargetBorder.style.visibility = "hidden";

			
/*	//removed by Mike, 20231115; TODO: -add: this			
			//next battle?
			bIsPuzzleDone=false;
*/
		}
	}


	//edited by Mike, 20231110; from 20231109
	function hasCopy(iTileBgCountInput) {
		var sInputTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountInput].alt;

	    //edited by Mike, 20231108	//sInputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(","));
		var sInputTileValue=sInputTileCountIdAltTemp.substring(0,sInputTileCountIdAltTemp.indexOf(",FK"));

		//alert("sInputTileValue: "+sInputTileValue);

		//note: "var" to create new container inside for loop
		for (var iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
			for (var iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {
				var iTileBgCountTemp=arrayPuzzleTilePos[iRowCount][iColumnCount];

				//edited by Mike, 20231108
	//sOutputTileValue=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

				var sOutputTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

			    //edited by Mike, 20231108				//sOutputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(","));
				var sOutputTileValue=sOutputTileCountIdAltTemp.substring(0,sOutputTileCountIdAltTemp.indexOf(",FK"));



				//alert("sOutputTileValue: "+sOutputTileValue);
				//alert((Math.floor((sOutputTileValue-1)/4)));
/*
				alert("sInputTileValue: "+sInputTileValue);
				alert((Math.floor((sInputTileValue-1)/4)));
*/

//				if (sInputTileValue!==sOutputTileValue) {
					//4*4
					//note: start from 0; so -1
					//if in same row of input image file; has copy
					if (Math.floor((parseInt(sInputTileValue-1))/4)===Math.floor((parseInt(sOutputTileValue-1))/4)) {
						//AND not itself
						//if (sInputTileValue!==sOutputTileValue) {
						//if (!sInputTileValue.localeCompare(sOutputTileValue)) {

						//alert (">> DITO");

						if (parseInt(sInputTileValue)!=parseInt(sOutputTileValue)) {

						//alert (">>>>>>");

							//alert("has copy!");
/*
						alert("sInputTileValue: "+sInputTileValue);
						alert("sOutputTileValue: "+sOutputTileValue);
*/
							//bHasCopy=true;
							return true;
						}

//							return true;
					}

//				}




			}
		}

		//alert("NO MORE COPY FOR THE TILE TYPE!");

		return false;
	}



	//added by Mike, 20231106
	function isUnique(iTileBgCountInput) {
		//arrayPuzzleTileCountId[iTileBgCount].alt

		//edited by Mike, 20231108
		//sInputTileValue=arrayPuzzleTileCountId[iTileBgCountInput].alt;
		//sOutputTileValue=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

		sTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountInput].alt;

	    //edited by Mike, 20231108	//sInputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(","));
		sInputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(",FK"));

		//alert("sInputTileValue: "+sInputTileValue);

		for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
			for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) 		{
				iTileBgCountTemp=arrayPuzzleTilePos[iRowCount][iColumnCount];

				//edited by Mike, 20231108
	//sOutputTileValue=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

				sTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

			    //edited by Mike, 20231108				//sOutputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(","));
				sOutputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(",FK"));


				//alert("sOutputTileValue: "+sOutputTileValue);

				if (arrayPuzzleTileCountId[iTileBgCountTemp].style.visibility== "hidden") {
					continue;
				}

				/* //edited by Mike, 20231107
				if (iTileBgCountInput!=iTileBgCountTemp) {
					//unique?
					if (sInputTileValue==sOutputTileValue) {
						return false; //no
					}
				}
				*/

				//TODO: -add: if no more copies; update tile

				//if not the same iTileBgCount
				if (iTileBgCountInput!=iTileBgCountTemp) {
					//unique?
//					if (sInputTileValue==sOutputTileValue) {

					//if not in the same row in tile.png; iTileBgCount
					//4*4
					//note: start from 0; so -1
					//edited by Mike, 20231110
/*
					if (Math.floor((sInputTileValue-1)/4)==Math.floor((sOutputTileValue-1)/4)) {
*/
					if (Math.floor((parseInt(sInputTileValue-1)/4))==Math.floor((parseInt(sOutputTileValue-1)/4))) {

						//alert(Math.floor((sOutputTileValue-1)/4));

						return false; //no
					}
				}


			}
		}

		return true;
	}

	//added by Mike, 20231108
	//TODO: -update: this
	function hasForeignKey(iTileBgCountInput) {
		//alert("dito");

		//arrayPuzzleTileCountId[iTileBgCount].alt

		//edited by Mike, 20231108
		//sInputTileValue=arrayPuzzleTileCountId[iTileBgCountInput].alt;
		//sOutputTileValue=arrayPuzzleTileCountId[iTileBgCountTemp].alt;


		sTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountInput].alt;


		//edited by Mike, 20231108	//sInputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(","));

/*		//edited by Mike, 20231109
		//sInputTileValue: ,FK=1
		sInputTileValue=sTileCountIdAltTemp.substring(sTileCountIdAltTemp.indexOf(",FK="));

		alert("sInputTileValue: "+sInputTileValue);
*/

		sInputTileValue=sTileCountIdAltTemp.substring(sTileCountIdAltTemp.indexOf(",FK=")+(",FK=").length);

		//alert("sInputTileValue: "+sInputTileValue);

		if (sInputTileValue.length>0) {
			return true; //has foreign key
		}

		return false;

/*	//removed by Mike, 20231109
		for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
			for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) 		{
				iTileBgCountTemp=arrayPuzzleTilePos[iRowCount][iColumnCount];
*/

				//edited by Mike, 20231108
	//sOutputTileValue=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

	/*	//removed by Mike, 20231108
				sTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountTemp].alt;

				//edited by Mike, 20231108				//sOutputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(","));
				sOutputTileValue=sTileCountIdAltTemp.substring(sTileCountIdAltTemp.indexOf(",FK="));

				//alert("sOutputTileValue: "+sOutputTileValue);

				if (arrayPuzzleTileCountId[iTileBgCountTemp].style.visibility== "hidden") {
					continue;
				}
*/

				/* //edited by Mike, 20231107
				if (iTileBgCountInput!=iTileBgCountTemp) {
					//unique?
					if (sInputTileValue==sOutputTileValue) {
						return false; //no
					}
				}
				*/

				//TODO: -add: if no more copies; update tile
/*	//removed by Mike, 20231108
				//if not the same iTileBgCount
				if (iTileBgCountInput!=iTileBgCountTemp) {
					//unique?
//					if (sInputTileValue==sOutputTileValue) {
					//if not in the same row in tile.png; iTileBgCount
					//4*4
					//note: start from 0; so -1
					if (Math.floor((sInputTileValue-1)/4)==Math.floor((sOutputTileValue-1)/4)) {

						//alert(Math.floor((sOutputTileValue-1)/4));

						return false; //no
					}
				}
*/
/*	//removed by Mike, 20231109
			}
		}
*/
		return false;
	}

	function processResultFromInput(iXPos, iYPos) {

					var mainImageTile = document.getElementById("mainImageTileImageId");


          //TO-DO: -add: the following to verify if tile was clicked;
  	//iTileBgCount=0;

  	//added by Mike, 20230125
  	//identify blank/empty tile
  	var iTileBgCountOfEmptyTile=-1;

  	//added by Mike, 20230522
  	bIsActionKeyPressed=true;

  	//added by Mike, 20230523
  	bHasExecutedTileExchange=false;
	
	//added by Mike, 20231113
	var puzzleTileImageTargetBorder = document.getElementById("divPuzzleTileImageTargetBorderId");

	var puzzleTileImageSpaceBorder = document.getElementById("divPuzzleTileImageSpaceBorderId");
	
/* //removed by Mike, 20231111
  	for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
  		for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) 		{

  			//edited by Mike, 20230524
  			iTileBgCount=arrayPuzzleTilePos[iRowCount][iColumnCount];
  //			iTileBgCount=arrayPuzzleTilePos[iRowCount][iColumnCount]+1;

//alert(">>>"+iTileBgCount);

  			if (arrayPuzzleTileCountId[iTileBgCount].alt=="") {
  				iTileBgCountOfEmptyTile=iTileBgCount;
  			}
  		}
  	}
*/

//alert("dito"+iTileBgCountOfEmptyTile);


  	for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
  		for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {
  			//edited by Mike, 20230524
  			iTileBgCount=arrayPuzzleTilePos[iRowCount][iColumnCount];
  //			iTileBgCount=arrayPuzzleTilePos[iRowCount][iColumnCount]-1;

  		//alert(iTileBgCount);

  /* //edited by Mike, 20230123
  		var iTilePosX= arrayPuzzleTileCountId[iTileBgCount].style.left;
  		var iTilePosY= arrayPuzzleTileCountId[iTileBgCount].style.Top;
  */

  	//edited by Mike, 20230524
  		var iTilePosX= iHorizontalOffset+iOffsetWidth+iPuzzleTileWidth*iColumnCount+iBorderOffset*iColumnCount;

  		var iTilePosY=0+iOffsetHeight+iPuzzleTileHeight*iRowCount+iBorderOffset*iRowCount;


  /*
  		var iTilePosX= iHorizontalOffset+iOffsetWidth+iPuzzleTileWidth*(iColumnCount+1)+iBorderOffset*(iColumnCount+1);
  		var iTilePosY=0+iOffsetHeight+iPuzzleTileHeight*(iRowCount+1)+iBorderOffset*(iRowCount+1);
  */
  		//added by Mike, 20230524
  /*
  		iXPos=iXPos+iPuzzleTileWidth/2;
  		iYPos=iYPos+iPuzzleTileHeight/2;
  */
  		//alert("iXPos: "+iXPos+"; iTilePosX: "+iTilePosX);

  				//iPuzzleTileWidth
  //alert("iTilePosX: "+iTilePosX);

  		//edited by Mike, 20230524
  		if (isPointsOfRectIntersectingPointsOfRect(iXPos,iYPos,iTilePosX,iTilePosY)) {
        //added by Mike, 20231105
        //OK
//        alert("HIT!");

  			//OK; row1; columns; 1 to 4;
  			//row2; columns 5 to 8;...
/*
  			alert("HIT! TILE COUNT: " + iTileBgCount);
  			alert("arrayPuzzleTileCountId[iTileBgCount].alt: " + arrayPuzzleTileCountId[iTileBgCount].alt);
*/

/*//edited by Mike, 20231106
  			//edited by Mike, 20230524
  			if (arrayPuzzleTileCountId[iTileBgCount].alt=="") {
  				return;
  			}
  			//OK; number value of Tile
  			//alert (arrayPuzzleTileCountId[iTileBgCount].alt);
  			//if NOT blank/empty tile
  			//edited by Mike, 20230524
  			//if (arrayPuzzleTileCountId[iTileBgCount].alt!="") {
  			else if (arrayPuzzleTileCountId[iTileBgCount].alt!="") {
*/
		  if (1) {

//         alert("dito"+arrayPuzzleTileCountId[iTileBgCount].alt);

  /*
  				alert("HIT! EXCHANGE! " + iTileBgCount);
  				//exchange
  				alert("EXCHANGE! EMPTY location: "+iTileBgCountOfEmptyTile);
  */

        var myAudioEffect = document.getElementById("myAudioEffectId");

        myAudioEffect.setAttribute("src", sAudioEffectActionStart);

        //fMyAudioEffectVolume=0.2;
        fMyAudioEffectVolume=0.4;
        myAudioEffect.volume=fMyAudioEffectVolume;
        myAudioEffect.loop=false;
        myAudioEffect.play();



  /*				//edited by Mike, 20230524
  				//added by Mike, 20230524
  				//IF @TOP row
  				if (iTileBgCountOfEmptyTile<4) {
  				}
  				//IF NOT @TOP row
  				else {
  					//TOP-LEFT; CENTER-5
  					if (iTileBgCount==iTileBgCountOfEmptyTile-5) {
  						alert("TOP-LEFT; CENTER-5");
  						return;
  					}
  					//TOP-RIGHT; CENTER-3
  					else if (iTileBgCount==iTileBgCountOfEmptyTile-3) {
  						alert("TOP-RIGHT; CENTER-3");
  						return;
  					}
  				}
  */
  /*
  				//move only to TOP, BOTTOM, LEFT, RIGHT
  				//from CENTER
  				//IF @TOP row
  				if (iTileBgCountOfEmptyTile<4) {
  				alert(iTileBgCountOfEmptyTile);
  					//TOP; CENTER-4
  					if (iTileBgCount==iTileBgCountOfEmptyTile-4) {
  						return;
  					}

  				}
  */

/* //removed by Mike, 20231105
  				//move only to TOP, BOTTOM, LEFT, RIGHT
  				//from CENTER
  				//IF intends to move to LEFT
  				if (iTileBgCount==iTileBgCountOfEmptyTile-1) {
  					if (iColumnCount>-1) {
  					}
  					else {
  						return;
  					}
  				}
  				//IF intends to move to RIGHT
  				else if (iTileBgCount==iTileBgCountOfEmptyTile+1) {
  					if (iColumnCount<iColumnCountMax) {
  					}
  					else {
  						return;
  					}
  				}
  				//IF intends to move to TOP
  				else if (iTileBgCount==iTileBgCountOfEmptyTile-4) {
  					if (iRowCount>-1) {
  					}
  					else {
  						return;
  					}
  				}
  				//IF intends to move to BOTTOM
  				else if (iTileBgCount==iTileBgCountOfEmptyTile+4) {
  					if (iRowCount<iRowCountMax) {
  					}
  					else {
  						return;
  					}
  				}
  				else {
  					return;
  				}
*/


					//removed by Mike, 20231113; from 20231111
/*					
					var puzzleTileImageTargetBorder = document.getElementById("divPuzzleTileImageTargetBorderId");

					var puzzleTileImageSpaceBorder = document.getElementById("divPuzzleTileImageSpaceBorderId");
*/					
					puzzleTileImageTargetBorder.style.visibility = "visible";

					puzzleTileImageSpaceBorder.style.visibility = "visible";
					
					//reminder: arrayPuzzleTileCountId[iTileBgCount].alt="";
					puzzleTileImageTargetBorder.style.left = arrayPuzzleTileCountId[iTileBgCount].style.left;

					puzzleTileImageTargetBorder.style.top = arrayPuzzleTileCountId[iTileBgCount].style.top;

					puzzleTileImageSpaceBorder.style.left = arrayPuzzleTileCountId[iTileBgCount].style.left;

					puzzleTileImageSpaceBorder.style.top = arrayPuzzleTileCountId[iTileBgCount].style.top;

  				//alert("arrayPuzzleTileCountId[iTileBgCount].alt: " + arrayPuzzleTileCountId[iTileBgCount].alt);

			//OK; TODO: -add: tiles connected to target via FK
			//TODO: -add: more output testings;
			//added by Mike, 20231109
			if (bHasHitTileWithForeignKey) {
/*
				alert("has hit tile with FK!");
*/
				//exchange with next tile hit if of same type

				sCurrHitTile=arrayPuzzleTileCountId[iTileBgCount].alt;
				sCurrHitTile=sCurrHitTile.substring(0,sCurrHitTile.indexOf(",FK="));
				sCurrHitTileType="";

				//edited by Mike, 20231113
				//TODO: -verify: this
				if (iPrevHitTileBgCount!=-1) {
				
					sPrevHitTile=arrayPuzzleTileCountId[iPrevHitTileBgCount].alt;
					sPrevHitTile=sPrevHitTile.substring(0,sPrevHitTile.indexOf(",FK="));
				}
				sPrevHitTileType="";
/*
				alert("sCurrHitTile: "+sCurrHitTile);
				alert("sPrevHitTile: "+sPrevHitTile);
*/
				//4*4
				//note: start from 0; so -1
/*
				//edited by Mike, 20231110
				sCurrHitTileType=Math.floor((sCurrHitTile-1)/4)	;
				sPrevHitTileType=Math.floor((sPrevHitTile-1)/4)	;
*/
				sCurrHitTileType=Math.floor(parseInt((sCurrHitTile-1)/4));
				sPrevHitTileType=Math.floor(parseInt((sPrevHitTile-1)/4));


				/*
				alert("sCurrHitTileType: "+sCurrHitTileType);
				alert("sPrevHitTileType: "+sPrevHitTileType);
*/

				//if same type
				if (sCurrHitTileType==sPrevHitTileType) {
/*
				alert("has hit SAME TILE!");
*/


					arrayPuzzleTileCountId[iTileBgCount].alt = arrayPuzzleTileCountId[iPrevHitTileBgCount].alt;

					//edited by Mike, 20231113
					//note: not an integer; blank
//					iPrevHitTileBgCount="";//iTileBgCount;
					iPrevHitTileBgCount=-1;//iTileBgCount;

					bHasHitTileWithForeignKey=false;

					//added by Mike, 20231111
					puzzleTileImageTargetBorder.style.visibility = "hidden";
					puzzleTileImageSpaceBorder.style.visibility = "hidden";

					//added by Mike, 20231112
					//if also the same tile
					if (sCurrHitTile==sPrevHitTile) {
						bIsExecutingShake=true;
					}
					//changed the target tile; effects; poof?
					else {
						//TODO: -update: this
					}

					return;
				}
				//after already choosing a tile type;
				else {
					//alert("DIFFERENT TILE!");

					//added by Mike, 20231114
					var myAudioEffect = document.getElementById("myAudioEffectId");

					myAudioEffect.setAttribute("src", sAudioEffectLowPower);

					//fMyAudioEffectVolume=0.2;
					fMyAudioEffectVolume=1.0;
					myAudioEffect.volume=fMyAudioEffectVolume;
					myAudioEffect.loop=false;
					myAudioEffect.play();
		
					
					//edited by Mike, 20231113
					//note: not an integer; blank
					//iPrevHitTileBgCount="";//iTileBgCount;
					iPrevHitTileBgCount=-1;//iTileBgCount;

					bHasHitTileWithForeignKey=false;
					
					//added by Mike, 20231114
					iInputDelayCount=0;

					
					//damage!
					//TODO: -fix: if tile already is unique; not executed;
					bIsExecutingShake=true;
				}
			}
			//has no FK
			else {
				//alert("dito");
				bIsExecutingShake=true;
				//bIsActionKeyPressed=false;
				//iPrevHitTileBgCount="";
				sCurrHitTileType="";
				sPrevHitTileType="";
				
/*				
				return;
*/				
			}

			//added by Mike, 20231106
			//arrayPuzzleTileCountId[iTileBgCount].alt
			//alert("!!!");

			if (isUnique(iTileBgCount)) {
				//alert(">>>");

				puzzleTileImageTargetBorder.style.visibility = "hidden";
				
				return;
			}

			//added by Mike, 20231113
			//TODO: -fix: multiple "...hasForeignKey(iTileBgCount)"
			//edited by Mike, 20231109; from 20231108
			if (hasForeignKey(iTileBgCount)) {
				//alert("has foreign key!");

				bHasHitTileWithForeignKey=true;
				iPrevHitTileBgCount=iTileBgCount;

				return;
			}

  /*				arrayPuzzleTileCountId[iTileBgCountOfEmptyTile].alt=arrayPuzzleTileCountId[iTileBgCount].alt;

  				arrayPuzzleTileCountId[iTileBgCount].alt="";
  */
  				//added by Mike, 20230522
  				//-----
  				bIsActionKeyPressed=true;

          /*
          arrayPuzzleTileCountId[iTileBgCount].className="Image32x32Tile";
          				arrayPuzzleTileCountId[iTargetTileBgCount].className="Image32x32TileSpace";

          arrayPuzzleTileCountId[iTileBgCountOfEmptyTile].alt=arrayPuzzleTileCountId[iTileBgCount].alt;
          */
          /*
          arrayPuzzleTileCountId[iTileBgCount].className="Image32x32Tile";
          arrayPuzzleTileCountId[iTargetTileBgCount].className="Image32x32TileSpace";
          */
          //edited by Mike, 20230523

/* //edited by Mike, 20231105; output; puts a red border on target;
//if has: puzzleTileImageTargetBorder.style.visibility = "visible"
//alert(iTileBgCountOfEmptyTile);

          arrayPuzzleTileCountId[iTileBgCountOfEmptyTile].className="Image32x32Tile";
*/

/* //edited by Mike, 20231106
//added by Mike, 20231105
iTileBgCountOfEmptyTile=iTileBgCount;
//arrayPuzzleTileCountId[iTileBgCount].alt);
arrayPuzzleTileCountId[iTileBgCountOfEmptyTile].style.visibility = "hidden";
*/

//removed by Mike, 20231113; from 20231105
//arrayPuzzleTileCountId[iTileBgCount].style.visibility = "hidden";


//-----


                    //alert("dito"+arrayPuzzleTileCountId[iTileBgCount].alt);

		  //removed by Mike, 20231113
          //var puzzleTileImageTargetBorder = document.getElementById("divPuzzleTileImageTargetBorderId");

          //edited by Mike, 20231105
          puzzleTileImageTargetBorder.style.visibility = "hidden";
          //puzzleTileImageTargetBorder.style.visibility = "visible";
          //-----

//TODO: -add: new rules; delete immediately only if duplicate (with no "foreign key")


          //reminder: arrayPuzzleTileCountId[iTileBgCount].alt="";
          					puzzleTileImageTargetBorder.style.left = arrayPuzzleTileCountId[iTileBgCount].style.left;

          					puzzleTileImageTargetBorder.style.top = arrayPuzzleTileCountId[iTileBgCount].style.top;


          arrayPuzzleTileCountId[iTargetTileBgCount].className="Image32x32TileSpace";


/* //removed by Mike, 20231106
          //arrayPuzzleTileCountId[iTileBgCountOfEmptyTile].alt=arrayPuzzleTileCountId[iTileBgCount].alt;

          arrayPuzzleTileCountId[iTileBgCountOfEmptyTile].alt=arrayPuzzleTileCountId[iTileBgCount].alt;

          //added by Mike, 20230523
          //TO-DO: -add: NO DIAGONAL exchange;
          iTargetTileBgCount=iTileBgCountOfEmptyTile;

          				arrayPuzzleTileCountId[iTileBgCount].alt="";
*/


          //				alert("dito");
          /*
          				arrayPuzzleTileCountId[iTileBgCount].alt="";
          				arrayPuzzleTileCountId[iTargetTileBgCount].alt="";
          */
          	//TO-DO: -verify: "iTargetTileBgCount" to cause incorrect output

          				//arrayPuzzleTileCountId[iTileBgCountOfEmptyTile	].alt="";

          				if (!bIsInitAutoGeneratePuzzleFromEnd) {
          					//note: iCountMovementStep
          					//iStepCountStatus++;
          /*
          					if (arrayPuzzleTileCountId[iTileBgCount].alt=="") {
          						bHasExecutedTileExchange=false;
          						//alert( "FALSE!" );
          					}
          					else {
          */
          						bHasExecutedTileExchange=true;
          						iStepCountStatus++;

          /*
          					}
          */
          				}

/* //removed by Mike, 20231105
          				for (iKeyCount=0; iKeyCount<iDirectionTotalKeyCount; iKeyCount++) {
          					arrayKeyPressed[iKeyCount]=false;
          				}
*/
          				//-----

          				//edited by Mike, 20230522
          //				break;	//causes multiple entering in the function
          				return;
          			}
              }
            }
          }

//---



//iMainImageTileStepAngleTemp+=10;
//iMainImageTileStepAngleTemp=90;

					//note: start 0 @clock 12 o'clock; clock-wise

/*					iMainImageTileStepAngle=(iMainImageTileStepAngle+10)%360;
*/
					//alert(iMainImageTileStepAngle);
/*
					//added by Mike, 20230427
newMainImageTilePosY=mainImageTileStepY*Math.cos(fMainImageTileStepAngleRad).toFixed(3);

//					alert(newMainImageTilePosY);
					newMainImageTilePosY*=-1;
										newMainImageTilePosX=mainImageTileStepX*Math.sin(fMainImageTileStepAngleRad).toFixed(3);
*/


/*
	iYPos=iYPos-(mainImageTilePosY+iVerticalOffsetInnerScreen);
	iXPos=iXPos-(mainImageTilePosX+iHorizontalOffset);

	alert("iYPos: "+iYPos);
	alert("iXPos: "+iXPos);

	if (iYPos<0) {
		iYPos*=-1;
	}
	if (iXPos<0) {
		iXPos*=-1;
	}
*/

					//adds: image's top
					//edited by Mike, 20230425
					//counter-clockwise;
					//note: equation; output, correct; quadrants;
				//iMainImageTileStepAngleTemp=((-1*iMainImageTileStepAngle+90)%(360+90))%360;

/*
					var fMainImageTileStepAngleRad=iMainImageTileStepAngle*Math.PI/180.0;
					*/

					//alert(fMainImageTileStepAngleRad);

					mainImageTileStepX=14; //2;
					mainImageTileStepY=14; //2;


///TO-DO: -compute: angle based on mouse position;

//newMainImageTilePosY=mainImageTileStepY*Math.cos(fMainImageTileStepAngleRad).toFixed(3);

					//var iYPosTemp=iYPos*-1;

					//alert(iYPosTemp);

					//alert(iYPos);

					//note: object @center
					//mainImageTileStepX=mainImageTileStepX-iXPos


//Reference#1:https://www.mathsisfun.com/algebra/trig-finding-angle-right-triangle.html; last accessed: 20230427
//angle = atan(O/A)

//Reference#2: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/atan2; last accessed: 202304287

//iMainImageTileStepAngle=Math.atan(300/400).toFixed(3);
//iMainImageTileStepAngle=Math.atan(-iYPos/iXPos).toFixed(3);
/*
//TO-DO: -fix: this
iMainImageTileStepAngle=Math.atan2(iYPos,iXPos).toFixed(3);
						var fMainImageTileStepAngleDegrees=iMainImageTileStepAngle*180.0/Math.PI;
*/

if (!bHasFired) {

mainImageTileStepY=10;
mainImageTileStepX=10;

		var mainImageTile = document.getElementById("mainImageTileImageId");

//reference: https://stackoverflow.com/questions/15994194/how-to-convert-x-y-coordinates-to-an-angle; last accessed: 20230428;
//--> answer by: Mohsen, 20130413T2357; from 20150322T2246;

//start position @center
//note: subtract margine offset
/*
var iDeltaX=iXPos-mainImageTilePosX;
var iDeltaY=iYPos-mainImageTilePosY;
*/
/*
var iDeltaX=(iXPos-iHorizontalOffset)-mainImageTilePosX;
var iDeltaY=(iYPos-iVerticalOffset)-mainImageTilePosY;
*/
var iDeltaX=(iXPos-iHorizontalOffset)-(mainImageTilePosX+iImageFrameWidth/2);
var iDeltaY=(iYPos-iVerticalOffset)-(mainImageTilePosY+iImageFrameHeight/2);




/*
alert("iXPos: "+iXPos);
alert("mainImageTilePosX: "+mainImageTilePosX);
alert("iDeltaX: "+iDeltaX);
*/


iDeltaY*=-1;

var fMainImageTileStepAngleRad=Math.atan2(iDeltaX,iDeltaY);

iMainImageTileStepAngle=fMainImageTileStepAngleRad*(180/Math.PI);

//					newMainImageTileProjectilePosY*=-1;

//clockwise
iMainImageTileStepAngle=(iMainImageTileStepAngle)%360;
/*
alert(iMainImageTileStepAngle);
*/

					mainImageTile.style.transform = "rotate("+ (iMainImageTileStepAngle % 360) +"deg)";






//fMainImageTileStepAngleDegrees = (fMainImageTileStepAngleDegrees + 360) % 360;  // +360 for implementations where mod returns negative numbers

//					alert(newMainImageTilePosY);
/*
alert("iYPos: "+iYPos);
alert("iXPos: "+iXPos);

alert("iMainImageTileStepAngle: "+iMainImageTileStepAngle);
alert("fMainImageTileStepAngleDegrees: "+fMainImageTileStepAngleDegrees);
*/

/*
			iMainImageTileStepAngle=fMainImageTileStepAngleDegrees;
*/

//alert(iMainImageTileStepAngle);


/* //edited by Mike, 20230427
//note: negative; due to inverted y-axis
					//newMainImageTilePosY=mainImageTileStepX/Math.sin(fMainImageTileStepAngleRad).toFixed(3);
			newMainImageTilePosY=mainImageTileStepY*Math.cos(fMainImageTileStepAngleRad).toFixed(3);

//					alert(newMainImageTilePosY);
					newMainImageTilePosY*=-1;


					//newMainImageTilePosX=mainImageTileStepY/Math.cos(fMainImageTileStepAngleRad).toFixed(3);
										newMainImageTilePosX=mainImageTileStepX*Math.sin(fMainImageTileStepAngleRad).toFixed(3);
*/

mainImageTileProjectileStepY=20;
mainImageTileProjectileStepX=20;


newMainImageTileProjectilePosY=mainImageTileProjectileStepY*Math.cos(fMainImageTileStepAngleRad).toFixed(3);

//start position @center
//newMainImageTileProjectilePosY+=iVerticalOffsetInnerScreen+mainImageTilePosY;
//newMainImageTileProjectilePosY=(iVerticalOffsetInnerScreen+mainImageTilePosY+mainImageTileProjectileStepY)*Math.cos(fMainImageTileStepAngleRad).toFixed(3);

					newMainImageTileProjectilePosY*=-1;
												newMainImageTileProjectilePosX=mainImageTileProjectileStepX*Math.sin(fMainImageTileStepAngleRad).toFixed(3);


					bHasFired=true;
}


//newMainImageTileProjectilePosX=(iHorizontalOffset+mainImageTilePosX+mainImageTileProjectileStepX)*Math.sin(fMainImageTileStepAngleRad).toFixed(3);


/* //removed by Mike, 20230428
					bHasFired=true;
*/

/*
					alert("newMainImageTileProjectilePosY: "+newMainImageTileProjectilePosY);
											alert("newMainImageTileProjectilePosX: "+newMainImageTileProjectilePosX);		*/

					//reference: https://stackoverflow.com/questions/8388440/converting-a-double-to-an-int-in-javascript-without-rounding; last accessed: 20230425
					//answer by: kubetz, 20111205T1630
					//edited by: Rooke, 20160329T1858

					//identify the quadrant; start @1
					var iQuadrant = parseInt(iMainImageTileStepAngle/90,10)+1;
					//alert(iQuadrant);
/*
					switch (iQuadrant) {
						case 1:
							mainImageTileStepX=2;
							mainImageTileStepY=-2;
							break;
						case 2:
							mainImageTileStepX=-2;
							mainImageTileStepY=-2;
							break;
						case 3:
							mainImageTileStepX=-2;
							mainImageTileStepY=2;
							break;
						case 4:
							mainImageTileStepX=2;
							mainImageTileStepY=2;
							break;
					}
*/

/*
				    //movement
					mainImageTilePosY=mainImageTilePosY+newMainImageTilePosY;
					mainImageTilePosX=mainImageTilePosX+newMainImageTilePosX;

					//alert("mainImageTileStepX: "+mainImageTileStepX);
					//alert("mainImageTilePosY Part1: "+mainImageTilePosY);
		mainImageTile.style.left = (iHorizontalOffset+mainImageTilePosX)+"px";
		mainImageTile.style.top = (iVerticalOffsetInnerScreen+mainImageTilePosY)+"px";
*/
	}

	//added by Mike, 20230423
	function processMouseInput() {
		//reference: https://stackoverflow.com/questions/70827887/detect-click-vs-touch-in-javascript;
		//last accessed: 20221110
		//answer by:  Jacob, 20220124T0110
		document.body.addEventListener('pointerdown', (event) => {
		
			//added by Mike, 20231114
			if (iInputDelayCount<iInputDelayCountMax) {
				iInputDelayCount++;
				return;
			}
		
			//reference: https://developer.mozilla.org/en-US/docs/Web/API/PointerEvent/pointerType;
			//last accessed: 20221122
			switch(event.pointerType) {
				case 'mouse':
/*
          //TODO: -add: this
          if (bIsUsingAppleWebKit) {
  				  bIsUsingAppleMac=true;
  				}

  				//added by Mike, 20230710
  				if (!bHasViewedTitle) {
  					return;
  				}
  				//added by Mike, 20230710
  				if (bIsInitAutoGeneratePuzzleFromEnd) {
  					return;
  				}
  				//added by Mike, 20230710
  				if (bIsPuzzleDone) {
  					return;
  				}
*/
					//note: ZOOM function causes position ERROR via screenX
					var iXPos = event.clientX;//screenX;

					//note: screenY includes BROWSER address bar, et cetera;
					var iYPos = event.pageY; //screenY;

/*
					//edited by Mike, 20230423
					alert("iXPos: "+iXPos);
					alert("iYPos: "+iYPos);
*/

					//added by Mike, 20231107
					processResultFromInput(iXPos, iYPos);

					//added by Mike, 20231110
					bIsPuzzleDone = isAutoVerifiedPuzzleDone();

					//removed by Mike, 20231114
					//iInputDelayCount=0;

					
					//alert(bIsPuzzleDone);

/* //removed by Mike, 20231111
					if (bIsPuzzleDone) {
						alert("CONGRATULATIONS!");

						//added by Mike, 20231111
						//reset
						bIsActionKeyPressed=false;
						iTargetAtSpaceBlinkAnimationCount=0;
						puzzleTileImageSpaceBorder.style.visibility = "hidden";

					}
*/
					break;
				case 'touch':
/*
					//alert("TOUCH");
					if (bIsUsingAppleWebKit) {
					  //added by Mike, 20221111; removed by Mike, 20221118
					  //note: NOT yet set
					  if (bIsUsingAppleMac) {
						toggleFullScreen();
					  }

					  bIsUsingAppleMac=false;
					  bIsMobile=true; //added by Mike, 20221110

					  //added by Mike, 20230111
					  bHasSetMaxWidthHeight=true;
					}
*/
					break;
			}
		});
	}


	//TODO: -fix: touch-and-hold image displayed problem
function processTouchInput() {
	//added by Mike, 20231107
	//reference: https://stackoverflow.com/questions/62823062/adding-a-simple-left-right-swipe-gesture/62825217#62825217;
	//answer by: smmehrab, 20200709T2330; edited 20200711T0355
	document.body.addEventListener('touchstart', function (event) {

		//added by Mike, 20231114
		if (iInputDelayCount<iInputDelayCountMax) {
			iInputDelayCount++;
			return;
		}

	
		iEventChangedTouchCount = event.changedTouches.length;

		for (iCount=0; iCount<iEventChangedTouchCount; iCount++) {

		//added by Mike, 20221121
//		if (iCurrentMiniGame==MINI_GAME_PUZZLE) {
/* //removed temporarily by Mike, 20231107
			if (bHasPressedStart) {
*/

/* //removed by Mike, 20230121
				var monsterTile = document.getElementById("monsterTileImageId");
*/
				//edited by Mike, 20221121
				//note: ZOOM function causes position ERROR via screenX
				var iXPos = event.changedTouches[iCount].clientX;//screenX;

				//note: screenY includes BROWSER address bar, et cetera;
				var iYPos = event.changedTouches[iCount].pageY; //screenY;

				//alert(iYPos);
/*
				alert("iXPos: "+iXPos);
				alert("iYPos: "+iYPos);
*/
				processResultFromInput(iXPos, iYPos);

				
				//added by Mike, 20231114
				bIsPuzzleDone = isAutoVerifiedPuzzleDone();
				//removed by Mike, 20231114
				//iInputDelayCount=0;

				
/* //removed temporarily by Mike, 20231107
			}
*/
//		}
		}
	});
}

function removeFromPuzzleStageExcessTiles() {

	//iTileBgCountMax = 16
	//iTileBgCountMax=2;
	for (let iTileBgCount=0; iTileBgCount<iTileBgCountMax; iTileBgCount++) {

		arrayPuzzleTileCountId[iTileBgCount] = document.getElementById("puzzleTileImageIdBg"+iTileBgCount);

		//note error here

		//alert(">>>>");

		//arrayPuzzleTileCountId[iTileBgCount] = 0;

		//alert("dito: "+iTileBgCount);

		arrayPuzzleTileCountId[iTileBgCount].style.visibility="hidden";

	}

	//alert(arrayPuzzleTileCountId[5]);


	//added by Mike, 20221119
	var puzzleTileImageTargetBorder = document.getElementById("divPuzzleTileImageTargetBorderId");

	puzzleTileImageTargetBorder.style.visibility="hidden";

	//added by Mike, 20221121
	var puzzleTileImageSpaceBorder = document.getElementById("divPuzzleTileImageSpaceBorderId");

	puzzleTileImageSpaceBorder.style.visibility="hidden";

}


	//added by Mike, 20221112
//note: execute this due to broken image icon appears using Google Chrome
function autoUpdatePuzzleTileImage() {
	iTileBgCount=0; //0+1;//0;

	while (iTileBgCount<16) {

	//alert(iTileBgCount);
		//alert(arrayPuzzleTileCountId[iTileBgCount].style.visibility);
		//arrayPuzzleTileCountId[iTileBgCount].style.visibility="visible";

	//alert(arrayPuzzleTileCountId[iTileBgCount].alt);
	//alert(arrayPuzzleTileCountId[iTileBgCount].style.objectPosition);

			//noted by Mike, 20231104
			//this shall need //arrayPuzzleTileCountId[iTileBgCount].style.visibility="visible";

			if (arrayPuzzleTileCountId[iTileBgCount].alt=="") {

				//alert(iTileTextCount);

			//notes: noticeable DELAY to fix OUTPUT error;
			//where: IF SPACE tile (BLINKING) is immediately
			//to the left of tile with text "15",
			//the tiles that were exchanged
			//to be located below or right of it
			//are INCORRECTLY displayed as also the SPACE tile,
			//albeit NOT BLINKING
			//elapsed time: 5hrs (approx);
			//technique to solve: CLARIFY; verify significance
			//example: VALUE : arrayPuzzleTileCountId, iTileBgCount;
			//to get iRowCount and iColumnCount position
			//--> example OUTPUT VALUE: "15"

			//note: Tile Space; target number become its own
			//clip
/* //edited by Mike, 20230111
			arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-96px -96px";
*/
			arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-192px -192px";
			
			}
			else {
						//alert(">>>>");

			//edited by Mike, 20231108; from 20221113
	//iTileTextCount=parseInt(arrayPuzzleTileCountId[iTileBgCount].alt);

	//alert(arrayPuzzleTileCountId[iTileBgCount].alt.substring(0,1));
			sTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCount].alt;
			//iTileTextCount=parseInt(arrayPuzzleTileCountId[iTileBgCount].alt.substring(0,arrayPuzzleTileCountId[iTileBgCount].alt.indexOf(",")));

		    //edited by Mike, 20231108	//iTileTextCount=parseInt(sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(",")));
			iTileTextCount=parseInt(sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(",FK")));

			//alert(">>>"+iTileTextCount);

/*
			if (isNan(iTileTextCount)) {
				iTileTextCount=0;
			}
*/

				iColumnCount = (iTileTextCount-1)%4;
				iRowCount = Math.floor((iTileTextCount-1)/4);

/* //edited by Mike, 20230111
				//x, y
				arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-" + iColumnCount*32 + "px -" + iRowCount*32 + "px";
*/

				//edited by Mike, 20231115
//				arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-" + iColumnCount*64 + "px -" + iRowCount*64 + "px";
				
				//TODO: -add: rest animation for rest of tiles; over 2 frames?
				sCurrHitTile=arrayPuzzleTileCountId[iTileBgCount].alt;
				sCurrHitTile=sCurrHitTile.substring(0,sCurrHitTile.indexOf(",FK="));
				
				if ((sCurrHitTile=="1") || (sCurrHitTile=="16")) {				
					if (iAnimationCount==0) { //%2
						arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-" + (iColumnCount*64) + "px -" + iRowCount*64 + "px";				
					}			
					else if (iAnimationCount==1) { 
						arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-" + (iColumnCount*64+256) + "px -" + iRowCount*64 + "px";
						
						//alert(">>>>");
					}
					else {
						arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-" + (iColumnCount*64+512) + "px -" + iRowCount*64 + "px";
						
						//alert(">>>>");
					}					
				}
				else {
						arrayPuzzleTileCountId[iTileBgCount].style.objectPosition = "-" + (iColumnCount*64) + "px -" + iRowCount*64 + "px";
				}
			}

			iTileBgCount++;
	}
	
	//alert("iAnimationCount: "+iAnimationCount);
	//added by Mike, 20231115
	if (iAnimationDelayCount==iAnimationDelayCountMax) {
		//edited by Mike, 20231116
//		iAnimationCount=(iAnimationCount+1)%2; //iAnimationCountMax
		iAnimationCount=(iAnimationCount+1)%3; //2; //iAnimationCountMax
		iAnimationDelayCount=0;
	}
	else {
		iAnimationDelayCount++;
	}

}

	function initPuzzle() {
		//added by Mike, 20231111
		//TODO: -verify: this
		var myCanvas = document.getElementById("myCanvasId");
		myCanvas.style.top = (iVerticalOffsetInnerScreen+0)+"px"; 		iHorizontalOffset=myCanvas.getBoundingClientRect().x;

			//alert(iRowCountMax);

		let iTileBgCount=0;

		for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
			for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {

			//edited by Mike, 20221118
			//arrayPuzzleTileCountId[iTileBgCount] = document.getElementById("puzzleTileImageIdBg"+iTileBgCount);

			//alert(">>>");
			//alert(">>>"+iTileBgCount);

			arrayPuzzleTileCountId[iTileBgCount] = document.getElementById("puzzleTileImageIdBg"+iTileBgCount);


			//added by Mike, 20221118
			//reference: https://www.w3schools.com/jsref/tryit.asp?filename=tryjsref_img_create;
			//last accessed: 20221118
			//edited by Mike, 20221121
	//		arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");

/*
			//edited by Mike, 20221122; from 20221121
			//iCurrentPuzzleStage=1;
			switch (iCurrentPuzzleStage) {
				case 0: //starting level; numbers sequence
					//alert("dito");

					//edited by Mike, 20221124
				//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");

					if (arrayPuzzleTileCountId[iTileBgCount].src!=getBaseURL()+sImagePuzzleStage0) {

						//edited by Mike, 20221127	//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");
						arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage0);
					}
					break;
				case 1: //next level; cambodia
					arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage1);
					break;
				case 2: //next level; duck army
					arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage2);
					break;
				default:
					iCurrentPuzzleStage=0;

					//repeat from starting level
					//edited by Mike, 20221124
				//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");
					if (arrayPuzzleTileCountId[iTileBgCount].src!=getBaseURL()+sImagePuzzleStage0) {
						//edited by Mike, 20221127
					//arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+"assets/images/count1024x1024.png");
	arrayPuzzleTileCountId[iTileBgCount].setAttribute("src", getBaseURL()+sImagePuzzleStage0);

					}
					break;
			}
*/


			//alert(iTileBgCount);

			arrayPuzzleTileCountId[iTileBgCount].style.left = iHorizontalOffset+iOffsetWidth+iPuzzleTileWidth*iColumnCount+iBorderOffset*iColumnCount+"px";

						//alert(">>>");


	//		arrayPuzzleTileCountId[iTileBgCount].style.top = iVerticalOffset+iPuzzleTileHeight*iColumnCount+"px";
			arrayPuzzleTileCountId[iTileBgCount].style.top = 0+iOffsetHeight+iPuzzleTileHeight*iRowCount+iBorderOffset*iRowCount+"px";

	//		alert (iPuzzleTileWidth*iRowCount);


			//edited by Mike, 20221127	//arrayPuzzleTileCountId[iTileBgCount].style.visibility="visible";
/*			if (bHasPressedStart) {
*/
			   arrayPuzzleTileCountId[iTileBgCount].style.visibility="visible";
/*
			}
*/



				iTileBgCount++;
			}
		}
	}

  //added by Mike, 20221123
  //@return bool
  function isPointsOfRectIntersectingPointsOfRect(iXPos1, iYPos1, iXPos2, iYPos2) {
  		//alert("iPuzzleTileWidth: "+iPuzzleTileWidth);

  	let mdo1XPos = iXPos1;
  	let mdo1YPos = iYPos1;

  	//edited by Mike, 20230524
  	//set as a point; not a tile
  	let mdo1Width = 1;//iPuzzleTileWidth;
  	let mdo1Height = 1;//iPuzzleTileHeight;

  	let mdo2XPos = iXPos2;
  	let mdo2YPos = iYPos2;

  	let mdo2Width = iPuzzleTileWidth;
  	let mdo2Height = iPuzzleTileHeight;

  	let iOffsetXPosAsPixel = 0;
  	let iOffsetYPosAsPixel = 0;

  	//alert("mdo1XPos: "+mdo1XPos);

  /*
  	alert("mdo1XPos: "+mdo1XPos+"; "+"mdo1Width: "+mdo1Width);
  	alert("mdo2XPos: "+mdo2XPos+"; "+"mdo2Width: "+mdo2Width);
  */

  	if ((mdo2YPos+mdo2Height < mdo1YPos+iOffsetYPosAsPixel) || //is the bottom of mdo2 above the top of mdo1?
  		(mdo2YPos > mdo1YPos+mdo1Height-iOffsetYPosAsPixel) || //is the top of mdo2 below the bottom of mdo1?
  		(mdo2XPos+mdo2Width < mdo1XPos+iOffsetXPosAsPixel) || //is the right of mdo2 to the left of mdo1?
  		(mdo2XPos > mdo1XPos+mdo1Width-iOffsetXPosAsPixel)) //is the left of mdo2 to the right of mdo1?
  	{
  		//no collision
  		return false;
  	}

  	return true;
  }


  //reference: https://stackoverflow.com/questions/15466802/how-can-i-auto-hide-alert-box-after-it-showing-it; last accessed: 20220911
  //answer by: Travis J, 20130317T2213
  function tempAlert(msg,duration)
  {
   var el = document.createElement("div");

    //edited by Mike, 20220911 //el.setAttribute("style","position:absolute;top:40%;left:20%;background-color:white;");

    el.setAttribute("style","position:absolute;top:0%;left:0%;background-color:white;");
    el.innerHTML = msg;

    setTimeout(function(){
      el.parentNode.removeChild(el);

    //added by Mike, 20220914; edited by Mike, 20220925
    //--------------------------------------------

    //added by Mike, 20220926
    //TO-DO: -update: to identify offset container for INNER SCREEN, CONTROLLER
    var iHorizontalOffsetPrev = iHorizontalOffset;

    //TO-DO: -reverify: this; added by Mike, 20221119
    iHorizontalOffset=(screen.width)/2-iStageMaxWidth/2;

    //added by Mike, 20221119
    //error caused by pinch zoom via SAFARI on iPAD
    //added: in CSS's html and body, touch-action: none;

    if (bIsUsingAppleWebKit) {
      if (screen.width!=screen.innerWidth) {
        iHorizontalOffset=(screen.innerWidth)/2-iStageMaxWidth/2;
      }
    }

    //added by Mike, 20220925
    //iVerticalOffset=iStageMaxHeight+((screen.height-iStageMaxHeight)/2);
    iVerticalOffset=(iStageMaxHeight+(screen.height/1.5-iStageMaxHeight));

    //alert("screen.width: "+screen.width); //landscape:533; potrait: 320
    //alert("iStageMaxWidth: "+iStageMaxWidth); //landscape:320; potrait: 320

    //alert("screen.height: "+screen.height); //landscape:533; potrait: 320


  /* //removed by Mike, 20231105

    //added by Mike, 20221006
    var pauseLink = document.getElementById("pauseLinkId");
    var iPauseLinkHeight = (pauseLink.clientHeight);//+1; + "px";
    var iPauseLinkWidth = (pauseLink.clientWidth);//+1; + "px"

    //edited by Mike, 20221012
    //note: screen set to custom-ZOOM causes INCORRECT POSITION OUTPUT
    //TO-DO: -verify: auto-set ZOOM to be 100%
    pauseLink.style.left = 0+iHorizontalOffset+iStageMaxWidth/2 -iPauseLinkWidth/2 +"px";
  //	pauseLink.style.left = 0+screen.width/2-iPauseLinkWidth/2 +"px";

    //edited by Mike, 20221007
    //pauseLink.style.top = 0+iStageMaxHeight/2 +"px";
    pauseLink.style.top = 0+iStageMaxHeight +"px";
  */

    //notes: noticeable delay in CHANGE in position via repaint setting, et cetera
    myUpdateFunction();
    //--------------------------------------------

    },duration);

    document.body.appendChild(el);
  }


	function onLoad() {
/*
		while (bIsInitAutoGeneratePuzzleFromEnd) {
			autoGeneratePuzzleFromEndForStorage();
		}
*/
		//TO-DO: -update: this; add bIsNotEnd
/*
		while (true) {
			iFacingDirection=iFACING_DOWN;
			miniGameActionUpdate();
		}
*/

// ---------------------

//added by Mike, 2022113
//keyphrase: identify machine and computer browser

//added by Mike, 20221108
//alert(navigator.userAgent);

//added by Mike, 20220910
//reference: https://stackoverflow.com/questions/6666907/how-to-detect-a-mobile-device-with-javascript; last accessed: 20220910
//answer by: Baraa, 20141026T2059
//edited by Mike, 20221108
//	if (/Mobile|Android|webOS|iPhone|iPad|iPod|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {

//alert(navigator.userAgent);

//if (/Mobile|Android|webOS|iPhone|iPad|iPod|AppleWebKit|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {

  //edited by Mike, 20231105
  //if (/Mobile|Android|webOS|iPhone|iPad|iPod|AppleWebKit|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {
  if (/Macintosh|Mac|Mobile|Android|webOS|iPhone|iPad|iPod|AppleWebKit|BlackBerry|BB|PlayBook|IEMobile|Windows Phone|Kindle|Silk|Opera Mini/i.test(navigator.userAgent)) {

//		alert("detected: Mobile Browser!");

  //added by Mike, 20220925
  bIsMobile=true;

  //added by Mike, 20221108
  if (navigator.userAgent.includes("AppleWebKit")) {
    bIsUsingAppleWebKit=true;
    //added by Mike, 20221109
    bIsUsingAppleMac=false; //default
  }

  //added by Mike, 20221113
  //notes: "AppleWebKit" to exist even with "Android"
  if (navigator.userAgent.includes("Android")) {
    bIsUsingAppleWebKit=false;
  }

  //added by Mike, 20221113
  //example: Linux x86_64 (desktop)
  if (navigator.userAgent.includes("Linux x")) {
    bIsMobile=false;
  }

  //note: iPAD and MacBookPro OS : Mac OS X
  //adds: to be re-classified as iPAD via TOUCH command
  if ((navigator.userAgent.includes("Macintosh")) || navigator.userAgent.includes("Mac")) {
    bIsUsingAppleMac=true;
  }

  //added by Mike, 20230111
  //note: TO-DO: -add: touch/mouse click ACTION COMMANDS
  //if using EDGE browser;
  //observed: shaking on EDGE browser via desktop,
  //caused by bIsMobile=true;
  if (navigator.userAgent.includes("Edge")) { //not "Edg"
    bIsMobile=false;
  }
}


//added by Mike, 20231107
var iMaxTileTypeCopyCount=4;
var iCurrTileTypeCopyCount=0;
//4*4
var arrayTileType = [0,0,0,0]; //iCurrTileTypeCount

var iArrayTileTypeLength=4;
var iCurrArrayTileTypeCount=0;

//alert(arrayTileType[3]);

//added by Mike, 20221106
iTileBgCount=0;

for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
  for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {

  //alert(iTileBgCount);
    arrayPuzzleTilePos[iRowCount][iColumnCount]=iTileBgCount;

    arrayPuzzleTileCountId[iTileBgCount] = document.getElementById("puzzleTileImageIdBg"+iTileBgCount);

    arrayPuzzleTileCountId[iTileBgCount].style.visibility="hidden";

      //added by Mike, 20221106
      //reference: https://www.w3schools.com/tags/tag_img.asp;
      //last accessed: 20221105
      //count
      //edited by Mike, 20221106				//arrayPuzzleTileCountId[iTileBgCount].alt=(iTileBgCount+1)+"";


	  //edited by Mike, 20231106
	  //put in initPuzzle()? //arrayPuzzleTileCountId[iTileBgCount].alt=(iTileBgCount+1)+"";
      //edited by Mike, 20231106
//	  arrayPuzzleTileCountId[iTileBgCount].alt=(1)+"";

/* //edited by Mike, 20231107
	  //OK; unique not destroyed
	  if (iTileBgCount<iRowCountMax) {
		arrayPuzzleTileCountId[iTileBgCount].alt=(1)+"";
	  }
	  else {
		arrayPuzzleTileCountId[iTileBgCount].alt=(2)+"";
	  }
*/
	  //auto-generate board objects
/*
var iMaxTileTypeCopyCount=4;
var iCurrTileTypeCopyCount=0;
//4*4
var arrayTileType = [0,0,0,0]; //iCurrTileTypeCount

var iArrayTileTypeLength=4;
var iCurrArrayTileTypeCount=0;
*/


//added by Mike, 20231111
//TODO: -update: to have 1 delete OK tiles; otherwise, auto-generated puzzle can have already solved state


//alert (iCurrTileTypeCopyCount);

 //edited by Mike, 20231109
if (iCurrTileTypeCopyCount<12) {

   //edited by Mike, 20231108    //arrayPuzzleTileCountId[iTileBgCount].alt=(iCurrTileTypeCopyCount+1)+"";
   //edited by Mike, 20231108 //arrayPuzzleTileCountId[iTileBgCount].alt=(iCurrTileTypeCopyCount+1)+",1";
	arrayPuzzleTileCountId[iTileBgCount].alt=(iCurrTileTypeCopyCount+1)+",FK=1"; //note: semicolon not usable in .alt text

	iCurrTileTypeCopyCount++;
}
//note: remaining tiles need to be filled
else {
	//edited by Mike, 20231108
	//arrayPuzzleTileCountId[iTileBgCount].alt=(15+1)+"";
	//edited by Mike, 20231108
	//arrayPuzzleTileCountId[iTileBgCount].alt=(15+1)+",1";
	//edited by Mike, 20231109
	//arrayPuzzleTileCountId[iTileBgCount].alt=(15+1)+",FK=1";
	arrayPuzzleTileCountId[iTileBgCount].alt=(15+1)+",FK=";	//no FK
}
	  //---


      //added by Mike, 20221106
      arrayPuzzleTileCountId[iTileBgCount].className="Image32x32Tile";

    iTileBgCount++;
  }
}



//init FK in puzzle; no FK with the same type;
	//added by Mike, 20231109
	//jumble the positions of the tiles;
	//var sRecordedSteps="3121220312133003112111302212133333303312003030030303133122112122121303033033311212002";

for (iRowCount=0; iRowCount<iRowCountMax; iRowCount++) {
  for (iColumnCount=0; iColumnCount<iColumnCountMax; iColumnCount++) {

		//alert(iTileBgCount);
		//alert(arrayPuzzleTileCountId[iRowCount][iColumnCount]);
		//alert(arrayPuzzleTilePos[iRowCount][iColumnCount]);

		iTileBgCountTemp=arrayPuzzleTilePos[iRowCount][iColumnCount];

		//alert(">>>>"+iTileBgCountTemp);
		//sTileCountIdAltTemp=arrayPuzzleTileCountId[iTileBgCountTemp].alt;
	//sOutputTileValue=sTileCountIdAltTemp.substring(0,sTileCountIdAltTemp.indexOf(",FK"));

		//random
		let iDirection = window.parseInt(Math.random() * 4);

		//alert(">>>>"+iDirection);

		//iDirection=0;

		//alert("iRowCount: "+iRowCount);

		switch (iDirection) {
			case iKEY_W: //0
				if ((iRowCount-1)>=0) {
//					arrayPuzzleTileCountId[iRowCount][iColumnCount].alt=arrayPuzzleTileCountId[iRowCount-1][iColumnCount].alt;

					iTileBgCountNew=arrayPuzzleTilePos[iRowCount-1][iColumnCount];

					sTileCountIdAltNew=arrayPuzzleTileCountId[iTileBgCountNew].alt;

					//alert("DITO: "+sTileCountIdAltNew);

					arrayPuzzleTileCountId[iTileBgCountTemp].alt=sTileCountIdAltNew;
				}
				break;
			case iKEY_S: //1
				if ((iRowCount+1)<iRowCountMax) {
					iTileBgCountNew=arrayPuzzleTilePos[iRowCount+1][iColumnCount];

					sTileCountIdAltNew=arrayPuzzleTileCountId[iTileBgCountNew].alt;

					arrayPuzzleTileCountId[iTileBgCountTemp].alt=sTileCountIdAltNew;
				}
				break;
			case iKEY_A: //2
				if ((iColumnCount-1)>=0) {
					iTileBgCountNew=arrayPuzzleTilePos[iRowCount][iColumnCount-1];

					sTileCountIdAltNew=arrayPuzzleTileCountId[iTileBgCountNew].alt;

					arrayPuzzleTileCountId[iTileBgCountTemp].alt=sTileCountIdAltNew;
				}
				break;
			case iKEY_D: //3
				if ((iColumnCount+1)<iColumnCountMax) {
					iTileBgCountNew=arrayPuzzleTilePos[iRowCount][iColumnCount+1];

					sTileCountIdAltNew=arrayPuzzleTileCountId[iTileBgCountNew].alt;

					arrayPuzzleTileCountId[iTileBgCountTemp].alt=sTileCountIdAltNew;
				}
				break;
		}
	}
}



/*
//added by Mike, 20221122
var controllerGuideImage = document.getElementById("controllerGuideImageId");
controllerGuideImage.style.visibility = "hidden"; //hidden

//added by Mike, 20230115
var stepCountGuideImage = document.getElementById("stepCountGuideImageId");
stepCountGuideImage.style.visibility = "hidden"; //hidden
*/

//alert(bIsUsingAppleMac); //true

/* //removed by Mike 20231105

//reference: https://stackoverflow.com/questions/4917664/detect-viewport-orientation-if-orientation-is-portrait-display-alert-message-ad; last accessed: 20220910
//answer by: Jatin, 20120731T0711;
//edited by Tisho, 20120731T0730
//add: listener to detect orientation change
window.addEventListener("orientationchange", function() {
  //orientation number (in degrees) : 90 and -90 for landscape; 0 for portrait
  //edited by Mike, 20220911
  //alert(window.orientation);

  //added by Mike, 20220910; edited by Mike, 20220911
  var myBody = document.getElementById("myBodyId");

  //reference: https://stackoverflow.com/questions/4917664/detect-viewport-orientation-if-orientation-is-portrait-display-alert-message-ad; last accessed: 20220910
  //answer by: crmpicco, 20130515T1414;
  //edited by: posit labs, 20150929T1708
  //if ((window.orientation==0) ||

////  if ((screen.orientation==0) ||
////    (window.matchMedia("(orientation: portrait)").matches)) {

  if (screen.orientation==0) {
    //alert("detected: PORTRAIT mode");
     myBody.className='bodyPortraitMode';
  }
  else {//if (window.matchMedia("(orientation: landscape)").matches) {
     //alert("detected: LANDSCAPE mode");
     myBody.className='bodyLandscapeMode';
  }

  //tempAlert("close",1000);//1sec
  //edited by Mike, 20220914
  //tempAlert("",1000);//1sec
  tempAlert("",200);//1/5sec

  //TO-DO: -add: auto-update: object positions after CHANGE in orientation
}, false);
*/



// ---------------------




		//removed by Mike, 20231105; from 20231104
		//removeFromPuzzleStageExcessTiles();

		init();

		//added by Mike, 20231104
		//after init();
		initPuzzle();


		iFacingDirection=iFACING_DOWN;

		//added by Mike, 20230423
		processMouseInput();

		//added by Mike, 202301107
		processTouchInput();

		fFramesPerSecond=16.66; //100.00; //16.66;
		clearInterval(iCurrentIntervalId);
		iCurrentIntervalId=setInterval(myUpdateFunction, fFramesPerSecond);
	}




  </script>
  <body id="myBodyId" onload="onLoad();">

	<canvas id="myCanvasId" class="myCanvas">
	</canvas>

<!-- note: using absolute positions; table technique NO EFFECT
	<table>
	<tr>
		<td>
		</td>
		<td>
		</td>
	</tr>
	</table>
-->

		<!--HALLO!-->
<!--
		<img id="mainImageTileImageId" class="Image32x32TileFrame1" src="assets/images/human.png">
-->
<!-- edited by Mike, 20230424
		<img id="mainImageTileImageId" class="ImageTileFrame1" src="assets/images/inputImage.png">
-->

<!-- noted by Mike, 20230424;

reference: https://stackoverflow.com/questions/5713295/specify-a-root-path-of-your-html-directory-for-script-links/41011179#41011179; last accessed: 20230424;
answer by: MistyDawn, 20161207T0655;
edited by: Huy Nguyen, 20170124T0455

/ means the root of the current drive;
./ means the current directory;
/ means the parent of the current directory.

//noted by Mike, 20231105
incorrect output on Safari; macOS;

opting to put assets folder in "html_application" folder instead
-->

		<img id="mainImageTileImageId" class="ImageTileFrame1" src="assets/images/inputImage.png">

		<img id="mainImageTileProjectileImageId" class="ImageTileFrame1" src="assets/images/inputImage.png">

		<!-- added by Mike, 20231104;
		  note: .html; not .php -->

<!-- set 1 -->
<img id="puzzleTileImageIdBg0" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg1" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg2" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg3" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg4" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">

<!-- set 2 -->
<img id="puzzleTileImageIdBg5" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg6" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg7" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg8" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<!-- set 3 -->
<img id="puzzleTileImageIdBg9" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg10" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg11" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg12" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<!-- set 4 -->
<img id="puzzleTileImageIdBg13" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg14" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg15" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">
<img id="puzzleTileImageIdBg16" class="Image32x32Tile" onerror="" src="assets/images/tile.png" alt="" title="">





	<!-- added by Mike, 20221119 -->
	<div id="divPuzzleTileImageTargetBorderId" class="Image32x32TileTargetBorder"></div>

	<!-- added by Mike, 20221121 -->
	<div id="divPuzzleTileImageSpaceBorderId" class="Image32x32TileSpaceBorder"></div>


	<div id="textStatusDivId" class="DivTextStatus">CONGRATULATIONS!</div>
	<div id="textEnterDivId" class="DivTextEnter">PRESS ENTER</div>


  <audio id="myAudioId" class="myAudio" src="assets/audio/usbongGameOff2023TapLoudEdited.mp3" type="audio/x-m4a" controls loop>
	  Your browser does not support the audio tag.
	</audio><br/>

	<audio id="myAudioEffectId" class="myAudio" src="assets/audio/usbongGameOff2023TapLoudEdited.mp3" type="audio/x-m4a">
	  Your browser does not support the audio tag.
	</audio><br/>



  </body>
</html>
